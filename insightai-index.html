<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>LuckLab AI Bot Predictor - Advanced Sports Predictions</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Sports Predictions, LuckLab AI Bot Predictor, Sports Betting, Advanced Analytics, Sports Science, AI Bot" name="keywords">
    <meta content="Get winning sports predictions from our advanced AI Bot Predictor. Join thousands of satisfied customers who trust LuckLab AI Bot Predictor - Where Science Meets Sports." name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">  

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    
    <!-- LuckLab AI Custom Theme - Using existing style.css -->
    <!-- AI Predictions CSS - Using existing style.css -->
    
    <!-- LuckLab Picks CSS -->
    <link href="css/lucklab-picks.css" rel="stylesheet">
    
    <!-- Telegram Integration Styles -->
    <style>
        .community-chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            max-height: 600px;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            border: 2px solid #00ff88;
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0, 255, 136, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .chat-header {
            background: linear-gradient(135deg, #000000 0%, #0d1117 100%);
            color: #00ff88;
            padding: 15px;
            border-radius: 15px 15px 0 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 2px solid #00ff88;
        }
        
        .chat-header i:first-child {
            font-size: 1.5em;
            margin-right: 10px;
        }
        
        .chat-body {
            height: 400px;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .chat-body.collapsed {
            height: 0;
            overflow: hidden;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            max-height: 350px;
            background: rgba(0, 0, 0, 0.5);
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .bot-message .message-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            color: #00ff88;
            padding: 12px 15px;
            border-radius: 15px 15px 15px 5px;
            max-width: 80%;
            align-self: flex-start;
            border: 1px solid rgba(0, 255, 136, 0.3);
            box-shadow: 0 2px 10px rgba(0, 255, 136, 0.1);
        }
        
        .user-message .message-content {
            background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
            color: #000;
            padding: 12px 15px;
            border-radius: 15px 15px 5px 15px;
            max-width: 80%;
            align-self: flex-end;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0, 255, 136, 0.3);
        }
        
        .message-time {
            font-size: 0.75em;
            color: #b0b3b8;
            margin-top: 5px;
            align-self: flex-start;
        }
        
        .user-message .message-time {
            align-self: flex-end;
            color: #666;
        }
        
        .vip-content {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%) !important;
            color: #000 !important;
            border: 2px solid #ffd700;
        }
        
        .vip-message .message-content {
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #000;
            border: 2px solid #ffd700;
        }
        
        .chat-info {
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(0, 255, 136, 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: #b0b3b8;
        }
        
        .chat-input {
            padding: 15px;
            border-top: 1px solid rgba(0, 255, 136, 0.3);
            display: flex;
            gap: 10px;
            background: rgba(0, 0, 0, 0.8);
        }
        
        .chat-input input {
            flex: 1;
            border: 2px solid rgba(0, 255, 136, 0.3);
            border-radius: 20px;
            padding: 10px 15px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
        }
        
        .chat-input input:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        
        .chat-input input::placeholder {
            color: #666;
        }
        
        /* Contact Form Styles */
        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none !important;
            border-color: #00ff88 !important;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3) !important;
            background: rgba(0, 0, 0, 0.8) !important;
        }
        
        .contact-form input::placeholder,
        .contact-form textarea::placeholder {
            color: #666;
        }
        
        /* Suggestions Box Styles */
        #suggestionsBox:focus {
            outline: none !important;
            border-color: #00ff88 !important;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3) !important;
            background: rgba(0, 0, 0, 0.8) !important;
        }
        
        #suggestionsBox::placeholder {
            color: #666;
        }
        
        .chat-input button {
            border-radius: 50%;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
            border: none;
            color: #000;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 255, 136, 0.3);
        }
        
        .chat-input button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.5);
        }
        
        .telegram-login-btn {
            background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
            border: none;
            color: #000 !important;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
        }
        
        .telegram-login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 255, 136, 0.5);
        }
        
        /* Custom scrollbar for chat */
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
            border-radius: 3px;
        }
        
        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #00ff88;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        
        .modal.show {
            display: block;
        }
        
        .modal-dialog {
            margin: 50px auto;
            max-width: 500px;
        }
        
        .modal-content {
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            border-radius: 10px 10px 0 0;
        }
        
        /* Avatar Upload Styles */
        .avatar-upload-container {
            position: relative;
            display: inline-block;
        }
        
        .avatar-preview {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 10px;
            border: 3px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .avatar-preview:hover {
            border-color: #007bff;
            transform: scale(1.05);
        }
        
        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .avatar-preview:hover .avatar-overlay {
            opacity: 1;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 8px;
        }
        
        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
            flex-shrink: 0;
        }
        
        .message-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 5px;
        }
        
        .message-info {
            flex: 1;
        }
        
        .message-sender {
            font-weight: bold;
            font-size: 12px;
            color: #666;
            margin-bottom: 2px;
        }
        
        .user-message .message-sender {
            color: #007bff;
        }
        
        .bot-message .message-sender {
            color: #00ff88;
        }
        
        /* Stream Player Styles */
        .embed-responsive-16by9 {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.2);
        }
        
        #streamFrame {
            border: 2px solid #00ff88;
        }
        
        .stream-controls {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border: 1px solid #00ff88;
        }
        
        .telegram-login-btn:hover {
            background: #006699;
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,136,204,0.3);
        }
        
        .btn-primary[onclick="showTelegramLogin()"] {
            color: white !important;
        }
        
        .btn-primary[onclick="showTelegramLogin()"]:hover {
            color: white !important;
        }
        
        @media (max-width: 768px) {
            .community-chat-widget {
                width: 90%;
                right: 5%;
                bottom: 10px;
            }
        }
        
        /* Modal animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px); 
            }
            to { 
                opacity: 1;
                transform: translateY(0); 
            }
        }
        
            /* Picks Indicator Styles */
            .picks-indicator {
                color: #00ff88;
                font-size: 16px;
                margin-left: 5px;
                animation: pulse 2s infinite;
            }
            
            .ticker-item.has-picks {
                background: rgba(0, 255, 136, 0.1);
                border-radius: 5px;
                padding: 2px 5px;
                transition: all 0.3s ease;
            }
            
            .ticker-item.has-picks:hover {
                background: rgba(0, 255, 136, 0.2);
                transform: scale(1.05);
            }
            
            /* Main Game Cards Interactive Styles */
            .game-card.has-picks {
                border: 3px solid #00ff88 !important;
                background: linear-gradient(135deg, rgba(0, 255, 136, 0.08) 0%, rgba(0, 255, 136, 0.02) 100%) !important;
                transition: all 0.4s ease;
                position: relative;
                overflow: hidden;
            }
            
            /* Yellow glow for Picks Available badge */
            .game-card.has-picks .badge-success {
                background: linear-gradient(45deg, #ffd700, #ffed4e) !important;
                color: #000 !important;
                font-weight: bold !important;
                text-shadow: 0 0 10px rgba(255, 215, 0, 0.8) !important;
                box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.4) !important;
                animation: yellow-glow 2s ease-in-out infinite alternate !important;
                border: 2px solid #ffd700 !important;
            }
            
            @keyframes yellow-glow {
                0% {
                    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.4);
                    text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
                }
                100% {
                    box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 60px rgba(255, 215, 0, 0.6);
                    text-shadow: 0 0 15px rgba(255, 215, 0, 1);
                }
            }
            
            .game-card.has-picks::before {
                content: "";
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.1), transparent);
                animation: shimmer 3s infinite;
                z-index: 1;
            }
            
            .game-card.has-picks:hover {
                background: linear-gradient(135deg, rgba(0, 255, 136, 0.15) 0%, rgba(0, 255, 136, 0.05) 100%) !important;
                transform: translateY(-4px) scale(1.02);
                box-shadow: 0 8px 25px rgba(0, 255, 136, 0.4), 0 0 20px rgba(0, 255, 136, 0.2);
                border-color: #00ff88 !important;
            }
            
            /* Removed the small badge since we're using the main status badge instead */
            
            .picks-indicator {
                color: #ff6b35;
                font-size: 18px;
                margin-left: 8px;
                animation: bounce 1.5s infinite;
                text-shadow: 0 0 10px rgba(255, 107, 53, 0.6);
            }
            
            @keyframes shimmer {
                0% { left: -100%; }
                100% { left: 100%; }
            }
            
            @keyframes pulse-glow {
                0%, 100% { 
                    box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
                    transform: scale(1);
                }
                50% { 
                    box-shadow: 0 6px 20px rgba(255, 107, 53, 0.6);
                    transform: scale(1.05);
                }
            }
            
            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                40% { transform: translateY(-8px); }
                60% { transform: translateY(-4px); }
            }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>

<body style="background-color: #000000 !important;">
    
    <!-- Developer Credit Banner -->
    <div style="
        background: linear-gradient(90deg, #ff0000 0%, #ff6600 25%, #ffcc00 50%, #ff6600 75%, #ff0000 100%);
        background-size: 200% 100%;
        animation: flameGradient 3s linear infinite;
        padding: 12px 20px;
        text-align: center;
        box-shadow: 0 4px 20px rgba(255,100,0,0.6);
        border-bottom: 3px solid #ff6600;
        position: relative;
        overflow: hidden;
    ">
        <!-- Flame particles effect -->
        <div style="
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255,255,0,0.3) 0%, transparent 10%),
                radial-gradient(circle at 40% 50%, rgba(255,150,0,0.3) 0%, transparent 10%),
                radial-gradient(circle at 60% 50%, rgba(255,100,0,0.3) 0%, transparent 10%),
                radial-gradient(circle at 80% 50%, rgba(255,50,0,0.3) 0%, transparent 10%);
            animation: flameParticles 2s ease-in-out infinite;
            pointer-events: none;
        "></div>
        
        <p style="
            color: #000;
            font-weight: 900;
            font-size: 1.1rem;
            margin: 0;
            text-shadow: 
                0 0 10px rgba(255,255,255,0.8),
                0 0 20px rgba(255,200,0,0.6),
                0 0 30px rgba(255,100,0,0.4);
            letter-spacing: 1px;
            position: relative;
            z-index: 1;
            animation: textFlicker 1.5s ease-in-out infinite;
        ">
            ðŸ”¥ This site was developed by <span style="color: #fff; text-shadow: 0 0 10px #00ff88, 0 0 20px #00ff88;">Brent Alexander</span>, Founder and Developer of <span style="color: #fff; text-shadow: 0 0 10px #00d4ff, 0 0 20px #00d4ff;">NeuroGest AI</span> ðŸ”¥
        </p>
    </div>
    
    <style>
        @keyframes flameGradient {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }
        
        @keyframes flameParticles {
            0%, 100% { 
                opacity: 0.4;
                transform: translateY(0px);
            }
            50% { 
                opacity: 0.8;
                transform: translateY(-3px);
            }
        }
        
        @keyframes textFlicker {
            0%, 100% { 
                text-shadow: 
                    0 0 10px rgba(255,255,255,0.8),
                    0 0 20px rgba(255,200,0,0.6),
                    0 0 30px rgba(255,100,0,0.4);
            }
            50% { 
                text-shadow: 
                    0 0 15px rgba(255,255,255,1),
                    0 0 30px rgba(255,200,0,0.8),
                    0 0 45px rgba(255,100,0,0.6);
            }
        }
    </style>
    
    <!-- Topbar Start -->
    <div class="container-fluid">
        <div class="row py-1 px-xl-5" style="background-color: #000000 !important;">
            <div class="col-lg-6 d-none d-lg-block">
                <div class="d-inline-flex align-items-center h-100">
                    <a class="text-light mr-3" href="#about">About</a>
                    <a class="text-light mr-3" href="#contact">Contact</a>
                    <a class="text-light mr-3" href="#help">Help</a>
                    <a class="text-light mr-3" href="#faqs">FAQs</a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                <div class="d-inline-flex align-items-center">
                    <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-success dropdown-toggle" data-toggle="dropdown">My Account</button>
                        <div class="dropdown-menu dropdown-menu-right bg-dark">
                            <button class="dropdown-item text-light" type="button" onclick="showCustomerDashboard()">My Picks</button>
                            <!-- Admin Panel hidden for public -->
                        </div>
                    </div>
                    <div class="btn-group mx-2">
                        <button type="button" class="btn btn-sm btn-outline-success dropdown-toggle" data-toggle="dropdown">USD</button>
                        <div class="dropdown-menu dropdown-menu-right bg-dark">
                            <button class="dropdown-item text-light" type="button">USD</button>
                            <button class="dropdown-item text-light" type="button">EUR</button>
                            <button class="dropdown-item text-light" type="button">GBP</button>
                        </div>
                    </div>
                    <div class="mx-2">
                        <button type="button" class="btn btn-sm btn-outline-primary mr-1" onclick="showLogin()" style="color: white !important; border-color: white;">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <button type="button" class="btn btn-sm btn-primary" onclick="openNewRegistration()" style="color: white !important;">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    </div>
                </div>
                <div class="d-inline-flex align-items-center d-block d-lg-none">
                    <a href="#" class="btn px-0 ml-2" onclick="showCustomerDashboard()">
                        <i class="fas fa-user text-dark"></i>
                        <span class="badge text-dark border border-dark rounded-circle" style="padding-bottom: 2px;">0</span>
                    </a>
                    <!-- Admin settings hidden for public -->
                    <a href="#" class="btn px-0 ml-2" onclick="showTelegramLogin()">
                        <i class="fab fa-telegram text-primary"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="row align-items-center py-3 px-xl-5 d-none d-lg-flex" style="background-color: #000000 !important;">
            <div class="col-lg-4">
                <a href="" class="text-decoration-none">
                    <img src="img/lucklab-logo.png" alt="LuckLab AI" style="height: 250px; width: auto;">
                </a>
                <br>
                <div class="text-muted animate__animated animate__fadeIn" style="font-size: 0.85rem; font-style: italic; margin-bottom: 5px;">
                    Where Science Meets Sports and Luck Meets Data
                </div>
                <small class="text-muted animate__animated animate__fadeIn animate__slow" style="font-size: 0.7rem; letter-spacing: 1px;">
                    Powered by <span class="text-primary font-weight-bold">NeuroGest AI</span>
                </small>
            </div>
            <div class="col-lg-4 col-6 text-left">
                <form action="">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for picks" id="searchPicks">
                        <div class="input-group-append">
                            <span class="input-group-text bg-transparent text-primary">
                                <i class="fa fa-search"></i>
                            </span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-4 col-6 text-right">
                <p class="m-0">Customer Support</p>
                <h5 class="m-0">Available 24/7</h5>
                <small class="text-muted">Powered by NeuroGest AI</small>
            </div>
        </div>
    </div>
    <!-- Topbar End -->

    <!-- Navbar Start -->
    <div class="container-fluid mb-30" style="background-color: #000000 !important;">
        <div class="row px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a class="btn d-flex align-items-center justify-content-between bg-primary w-100" data-toggle="collapse" href="#navbar-vertical" style="height: 65px; padding: 0 30px;">
                    <h6 class="text-white m-0"><i class="fa fa-bars mr-2"></i>Sports Categories</h6>
                    <i class="fa fa-angle-down text-white"></i>
                </a>
                <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 999;">
                    <div class="navbar-nav w-100">
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('NFL')">NFL</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('NBA')">NBA</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('MLB')">MLB</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('NHL')">NHL</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('Soccer')">Soccer</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('College Football')">College Football</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('College Basketball')">College Basketball</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('Tennis')">Tennis</a>
                        <a href="#" class="nav-item nav-link" onclick="filterPicks('Golf')">Golf</a>
                    </div>
                </nav>
            </div>
            <div class="col-lg-9">
                <nav class="navbar navbar-expand-lg navbar-dark py-3 py-lg-0 px-0" style="background-color: #000000 !important;">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        <img src="img/lucklab-logo.png" alt="LuckLab AI" style="height: 150px; width: auto;">
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav mr-auto py-0">
                            <a href="#home" class="nav-item nav-link active">Home</a>
                            <a href="#picks" class="nav-item nav-link">Available Picks</a>
                            <a href="#membership" class="nav-item nav-link" style="color: #FFD700 !important; font-weight: 700;">
                                <i class="fas fa-crown"></i> Membership
                            </a>
                            <a href="#about" class="nav-item nav-link">About</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">More <i class="fa fa-angle-down mt-1"></i></a>
                                <div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
                                    <a href="#help" class="dropdown-item">Help</a>
                                    <a href="#faqs" class="dropdown-item">FAQs</a>
                                </div>
                            </div>
                            <a href="#contact" class="nav-item nav-link">Contact</a>
                        </div>
                        <div class="navbar-nav ml-auto py-0 d-none d-lg-block">
                            <!-- Admin Panel hidden for public -->
                            <a href="#" class="btn px-0" onclick="showCustomerDashboard()">
                                <i class="fas fa-user text-primary"></i>
                                <span class="badge text-secondary border border-secondary rounded-circle" style="padding-bottom: 2px;">0</span>
                            </a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <!-- Navbar End -->

    <!-- Hero Section Start -->
    <div class="container-fluid mb-3" id="home">
        <div class="row px-xl-5">
            <div class="col-lg-8">
                <div id="header-carousel" class="carousel slide carousel-fade mb-30 mb-lg-0" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item position-relative active" style="height: 430px;">
                            <img class="position-absolute w-100 h-100" id="carouselImage1" src="backend/762606270-ranking-50-best-nfl-players-for-2025-season.webp" style="object-fit: cover;">
                            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                <div class="p-3" style="max-width: 700px; background: rgba(0, 0, 0, 0.7); border-radius: 10px;">
                                    <h1 class="display-4 text-white mb-3 animate__animated animate__fadeInDown">AI-Powered Sports Predictions</h1>
                                    <p class="mx-md-5 px-5 animate__animated animate__bounceIn">Get winning picks from our advanced AI prediction system. Join thousands of satisfied customers who trust LuckLab AI for their sports betting success.</p>
                                    <p class="mx-md-5 px-5 animate__animated animate__bounceIn">
                                        <small class="text-primary font-weight-bold">Powered by NeuroGest AI</small>
                                    </p>
                                    <a class="btn btn-outline-light py-2 px-4 mt-3 animate__animated animate__fadeInUp" href="#picks">View Available Picks</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <!-- ESPN Sports News Feed -->
                <div class="espn-news-feed" style="height: 430px; background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border-radius: 10px; overflow: hidden;">
                    <div class="news-header" style="background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%); padding: 15px; text-align: center;">
                        <h5 class="text-dark mb-0">
                            <i class="fas fa-newspaper mr-2"></i>
                            Latest Sports News
                        </h5>
                    </div>
                    <div id="espn-news-container" class="news-scroll" style="height: 370px; overflow-y: auto; padding: 15px;">
                        <div class="text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="sr-only">Loading news...</span>
                </div>
                            <p class="text-muted mt-3">Loading latest sports news...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Hero Section End -->

    <!-- Features Start -->
    <div class="container-fluid pt-5" style="background: #0a0a0a;">
        <div class="row px-xl-5 pb-3">
            <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
                <div class="d-flex align-items-center mb-4" style="padding: 30px; background: transparent; border: 2px solid #00ff88; border-radius: 10px;">
                    <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 70px; width: auto;" class="m-0 mr-3">
                    <h5 class="font-weight-semi-bold m-0 text-light">AI-Powered</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
                <div class="d-flex align-items-center mb-4" style="padding: 30px; background: #1a1a1a; border: 2px solid #00ff88; border-radius: 10px;">
                    <h1 class="fa fa-bolt text-primary m-0 mr-2"></h1>
                    <h5 class="font-weight-semi-bold m-0 text-light">Instant Delivery</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
                <div class="d-flex align-items-center mb-4" style="padding: 30px; background: #1a1a1a; border: 2px solid #00ff88; border-radius: 10px;">
                    <h1 class="fas fa-chart-line text-primary m-0 mr-3"></h1>
                    <h5 class="font-weight-semi-bold m-0 text-light">Data Analytics</h5>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
                <div class="d-flex align-items-center mb-4" style="padding: 30px; background: #1a1a1a; border: 2px solid #00ff88; border-radius: 10px;">
                    <h1 class="fa fa-headset text-primary m-0 mr-3"></h1>
                    <h5 class="font-weight-semi-bold m-0 text-light">24/7 Support</h5>
                </div>
            </div>
        </div>
    </div>
    <!-- Features End -->

    <!-- Top 3 Bettors of the Month Start -->
    <div class="container-fluid py-5" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%); position: relative; overflow: hidden;">
        <!-- Animated background -->
        <div style="position: absolute; inset: 0; background: radial-gradient(circle at 20% 50%, rgba(0,255,136,0.05) 0%, transparent 50%), radial-gradient(circle at 80% 50%, rgba(0,212,255,0.05) 0%, transparent 50%); opacity: 0.6;"></div>
        
        <div class="container px-xl-5 position-relative" style="z-index: 2;">
            <div class="text-center mb-5">
                <h2 class="font-weight-bold" style="color: #fff; text-shadow: 0 0 30px rgba(0,255,136,0.5); font-size: 2.5rem; letter-spacing: 2px;">
                    <i class="fas fa-trophy" style="color: #FFD700; margin-right: 15px; animation: pulse 2s ease-in-out infinite;"></i>
                    TOP 3 BETTORS OF THE MONTH
                    <i class="fas fa-trophy" style="color: #FFD700; margin-left: 15px; animation: pulse 2s ease-in-out infinite;"></i>
                </h2>
                <p style="color: #00ff88; font-size: 1.1rem; font-weight: 600; letter-spacing: 1px;">ðŸ”¥ Highest Verified Earnings ðŸ”¥</p>
                <button onclick="console.log('Button clicked!'); openWinSubmission(); return false;" style="
                    background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
                    color: #000;
                    border: none;
                    padding: 12px 30px;
                    border-radius: 25px;
                    font-weight: 700;
                    font-size: 1rem;
                    cursor: pointer;
                    box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                    margin-top: 10px;
                " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    <i class="fas fa-upload mr-2"></i>SUBMIT YOUR WIN
                </button>
                <p style="color: #999; font-size: 0.85rem; margin-top: 10px;">Show us your wins and get featured on our leaderboard!</p>
                        </div>
            
            <!-- Top 3 Podium -->
            <div id="top3BettorsDisplay" class="row justify-content-center">
                <!-- Will be populated by JavaScript -->
                        </div>
            
            <!-- Legacy single card (hidden, kept for compatibility) -->
            <div class="row justify-content-center" style="display: none;">
                <div class="col-lg-8 col-md-10">
                    <div id="topBettorCard" style="
                        background: linear-gradient(135deg, rgba(0,0,0,0.8) 0%, rgba(26,26,26,0.8) 100%);
                        border: 3px solid #FFD700;
                        border-radius: 20px;
                        padding: 40px;
                        box-shadow: 0 20px 60px rgba(255,215,0,0.3), 0 0 80px rgba(0,255,136,0.2);
                        position: relative;
                        overflow: hidden;
                    ">
                        <!-- Crown decoration -->
                        <div style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 4rem; opacity: 0.1;">
                            <i class="fas fa-crown" style="color: #FFD700;"></i>
                    </div>
                        
                        <div class="row align-items-center position-relative" style="z-index: 2;">
                            <!-- Profile Picture & Rank -->
                            <div class="col-md-4 text-center mb-4 mb-md-0">
                                <div style="position: relative; display: inline-block;">
                                    <div style="
                                        width: 150px;
                                        height: 150px;
                                        border-radius: 50%;
                                        background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
                                        padding: 5px;
                                        box-shadow: 0 0 40px rgba(255,215,0,0.6);
                                        animation: pulse 3s ease-in-out infinite;
                                    ">
                                        <img id="topBettorAvatar" src="https://ui-avatars.com/api/?name=Jada&size=150&background=00ff88&color=000&bold=true" 
                                             style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid #000;" 
                                             alt="Top Bettor">
            </div>
                                    <div style="
                                        position: absolute;
                                        bottom: -10px;
                                        left: 50%;
                                        transform: translateX(-50%);
                                        background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
                                        color: #000;
                                        padding: 5px 15px;
                                        border-radius: 20px;
                                        font-weight: 900;
                                        font-size: 0.9rem;
                                        box-shadow: 0 4px 20px rgba(255,215,0,0.5);
                                        letter-spacing: 1px;
                                    ">#1</div>
                        </div>
                        </div>
                            
                            <!-- Bettor Info & Stats -->
                            <div class="col-md-8">
                                <div class="mb-3">
                                    <h3 id="topBettorName" style="color: #FFD700; font-weight: 900; font-size: 2.2rem; margin-bottom: 5px; text-shadow: 0 0 20px rgba(255,215,0,0.5);">@Jada</h3>
                                    <p id="topBettorHandle" style="color: #00ff88; font-size: 1.1rem; font-weight: 600; margin-bottom: 15px;">
                                        <i class="fab fa-twitter" style="margin-right: 8px;"></i>@JadaBets
                                        <i class="fab fa-instagram" style="margin-left: 20px; margin-right: 8px;"></i>@JadaBets
                                    </p>
                    </div>
                                
                                <!-- Stats Grid -->
                                <div class="row text-center">
                                    <div class="col-4">
                                        <div style="background: rgba(0,255,136,0.1); border: 2px solid #00ff88; border-radius: 12px; padding: 15px;">
                                            <h4 id="topBettorWinRate" style="color: #00ff88; font-weight: 900; margin-bottom: 5px; font-size: 1.8rem;">89%</h4>
                                            <small style="color: #fff; font-weight: 600; letter-spacing: 0.5px;">Win Rate</small>
            </div>
                        </div>
                                    <div class="col-4">
                                        <div style="background: rgba(0,212,255,0.1); border: 2px solid #00d4ff; border-radius: 12px; padding: 15px;">
                                            <h4 id="topBettorPicks" style="color: #00d4ff; font-weight: 900; margin-bottom: 5px; font-size: 1.8rem;">47</h4>
                                            <small style="color: #fff; font-weight: 600; letter-spacing: 0.5px;">Total Picks</small>
                        </div>
                    </div>
                                    <div class="col-4">
                                        <div style="background: rgba(255,215,0,0.1); border: 2px solid #FFD700; border-radius: 12px; padding: 15px;">
                                            <h4 id="topBettorProfit" style="color: #FFD700; font-weight: 900; margin-bottom: 5px; font-size: 1.8rem;">+$12.4K</h4>
                                            <small style="color: #fff; font-weight: 600; letter-spacing: 0.5px;">Profit</small>
            </div>
                        </div>
                        </div>
                                
                                <!-- Follow Button -->
                                <div class="text-center mt-4">
                                    <button onclick="followTopBettor()" style="
                                        background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
                                        color: #000;
                                        border: none;
                                        padding: 12px 40px;
                                        border-radius: 30px;
                                        font-weight: 900;
                                        font-size: 1rem;
                                        box-shadow: 0 6px 25px rgba(255,215,0,0.5);
                                        transition: all 0.3s ease;
                                        cursor: pointer;
                                        letter-spacing: 1px;
                                    " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 8px 35px rgba(255,215,0,0.7)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 25px rgba(255,215,0,0.5)'">
                                        <i class="fas fa-user-plus" style="margin-right: 10px;"></i>FOLLOW @JADA
                                    </button>
                    </div>
            </div>
                        </div>
                        </div>
                    </div>
            </div>
                        </div>
                        </div>
    <!-- Top Bettor of the Month End -->

    <!-- Membership Tiers Start -->
    <div class="container-fluid py-5" id="membership" style="background: #000000;">
        <div class="container px-xl-5">
            <div class="text-center mb-5">
                <h2 class="font-weight-bold" style="color: #fff; text-shadow: 0 0 30px rgba(0,255,136,0.5); font-size: 2.5rem; letter-spacing: 2px;">
                    <i class="fas fa-star" style="color: #00ff88; margin-right: 15px;"></i>
                    MEMBERSHIP TIERS
                    <i class="fas fa-star" style="color: #00ff88; margin-left: 15px;"></i>
                </h2>
                <p style="color: #00ff88; font-size: 1.1rem; font-weight: 600; letter-spacing: 1px;">Choose Your Plan & Duration - Flexible Pricing Options</p>
                <p style="color: #999; font-size: 0.95rem;">Select from Daily, Weekly, Monthly, or Yearly memberships</p>
                    </div>
            
            <div class="row justify-content-center">
                <!-- Bronze Tier -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="tier-card" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 3px solid #CD7F32; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 10px 40px rgba(205,127,50,0.3); transition: all 0.3s ease; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.boxShadow='0 15px 50px rgba(205,127,50,0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 40px rgba(205,127,50,0.3)'">
                        <i class="fas fa-medal" style="font-size: 3rem; color: #CD7F32; margin-bottom: 20px;"></i>
                        <h3 style="color: #CD7F32; font-weight: 900; margin-bottom: 10px;">BRONZE</h3>
                        <h2 style="color: #fff; font-weight: 900; margin-bottom: 5px;">From $99<span style="font-size: 1rem; color: #999;">/day</span></h2>
                        <p style="color: #999; font-size: 0.85rem; margin-bottom: 5px;">$299/mo â€¢ $2,990/yr</p>
                        <p style="color: #00ff88; font-size: 0.9rem; font-weight: 600; margin-bottom: 20px;">Save up to 90% monthly!</p>
                        <p style="color: #00ff88; font-size: 1.2rem; font-weight: 700; margin-bottom: 25px;">1-2 AI Picks/Day</p>
                        <ul style="list-style: none; padding: 0; margin-bottom: 30px; text-align: left;">
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Custom AI predictions</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Expert picks access</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Premium chat access</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Email support</li>
                        </ul>
                        <button onclick="selectMembershipDuration('bronze')" style="background: linear-gradient(135deg, #CD7F32 0%, #A0522D 100%); color: #fff; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 900; font-size: 1rem; width: 100%; box-shadow: 0 6px 20px rgba(205,127,50,0.4); cursor: pointer; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            SELECT PLAN
                        </button>
            </div>
                        </div>
                
                <!-- Silver Tier (MOST POPULAR) -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="tier-card" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 4px solid #C0C0C0; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 15px 50px rgba(192,192,192,0.5); transition: all 0.3s ease; height: 100%; position: relative; transform: scale(1.03);">
                        <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; padding: 5px 20px; border-radius: 20px; font-weight: 900; font-size: 0.8rem; letter-spacing: 1px; box-shadow: 0 4px 15px rgba(0,255,136,0.5);">ðŸ”¥ MOST POPULAR</div>
                        <i class="fas fa-medal" style="font-size: 3rem; color: #C0C0C0; margin-bottom: 20px; margin-top: 10px;"></i>
                        <h3 style="color: #C0C0C0; font-weight: 900; margin-bottom: 10px;">SILVER</h3>
                        <h2 style="color: #fff; font-weight: 900; margin-bottom: 5px;">From $160<span style="font-size: 1rem; color: #999;">/day</span></h2>
                        <p style="color: #999; font-size: 0.85rem; margin-bottom: 5px;">$499/mo â€¢ $4,990/yr</p>
                        <p style="color: #00ff88; font-size: 0.9rem; font-weight: 600; margin-bottom: 20px;">Save up to 90% monthly!</p>
                        <p style="color: #00ff88; font-size: 1.2rem; font-weight: 700; margin-bottom: 25px;">3-5 AI Picks/Day</p>
                        <ul style="list-style: none; padding: 0; margin-bottom: 30px; text-align: left;">
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Everything in Bronze</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Priority support</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Advanced analytics</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00ff88; margin-right: 10px;"></i>Live odds tracking</li>
                        </ul>
                        <button onclick="selectMembershipDuration('silver')" style="background: linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%); color: #000; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 900; font-size: 1rem; width: 100%; box-shadow: 0 6px 20px rgba(192,192,192,0.4); cursor: pointer; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            SELECT PLAN
                        </button>
                        </div>
                    </div>
                
                <!-- Gold Tier -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="tier-card" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 3px solid #FFD700; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 10px 40px rgba(255,215,0,0.4); transition: all 0.3s ease; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.boxShadow='0 15px 50px rgba(255,215,0,0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 40px rgba(255,215,0,0.4)'">
                        <i class="fas fa-crown" style="font-size: 3rem; color: #FFD700; margin-bottom: 20px;"></i>
                        <h3 style="color: #FFD700; font-weight: 900; margin-bottom: 10px;">GOLD</h3>
                        <h2 style="color: #fff; font-weight: 900; margin-bottom: 5px;">From $349<span style="font-size: 1rem; color: #999;">/day</span></h2>
                        <p style="color: #999; font-size: 0.85rem; margin-bottom: 5px;">$999/mo â€¢ $9,990/yr</p>
                        <p style="color: #00ff88; font-size: 0.9rem; font-weight: 600; margin-bottom: 20px;">Save up to 90% monthly!</p>
                        <p style="color: #00ff88; font-size: 1.2rem; font-weight: 700; margin-bottom: 25px;">8-10 AI Picks/Day</p>
                        <ul style="list-style: none; padding: 0; margin-bottom: 30px; text-align: left;">
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #FFD700; margin-right: 10px;"></i>Everything in Silver</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #FFD700; margin-right: 10px;"></i>VIP support</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #FFD700; margin-right: 10px;"></i>Real-time alerts</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #FFD700; margin-right: 10px;"></i>Exclusive VIP chat</li>
                        </ul>
                        <button onclick="selectMembershipDuration('gold')" style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: #000; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 900; font-size: 1rem; width: 100%; box-shadow: 0 6px 20px rgba(255,215,0,0.5); cursor: pointer; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            SELECT PLAN
                        </button>
            </div>
                        </div>
                        </div>
            
            <div class="row justify-content-center mt-4">
                <!-- Platinum Tier -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="tier-card" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 3px solid #E5E4E2; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 10px 40px rgba(229,228,226,0.3); transition: all 0.3s ease; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.boxShadow='0 15px 50px rgba(229,228,226,0.5)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 40px rgba(229,228,226,0.3)'">
                        <i class="fas fa-gem" style="font-size: 3rem; color: #E5E4E2; margin-bottom: 20px;"></i>
                        <h3 style="color: #E5E4E2; font-weight: 900; margin-bottom: 10px;">PLATINUM</h3>
                        <h2 style="color: #fff; font-weight: 900; margin-bottom: 5px;">From $400<span style="font-size: 1rem; color: #999;">/day</span></h2>
                        <p style="color: #999; font-size: 0.85rem; margin-bottom: 5px;">$1,499/mo â€¢ $14,990/yr</p>
                        <p style="color: #00ff88; font-size: 0.9rem; font-weight: 600; margin-bottom: 20px;">Save up to 87% monthly!</p>
                        <p style="color: #00ff88; font-size: 1.2rem; font-weight: 700; margin-bottom: 25px;">15-20 AI Picks/Day</p>
                        <ul style="list-style: none; padding: 0; margin-bottom: 30px; text-align: left;">
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #E5E4E2; margin-right: 10px;"></i>Everything in Gold</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #E5E4E2; margin-right: 10px;"></i>Dedicated support</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #E5E4E2; margin-right: 10px;"></i>Custom analysis</li>
                            <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #E5E4E2; margin-right: 10px;"></i>Premium chat room</li>
                        </ul>
                        <button onclick="selectMembershipDuration('platinum')" style="background: linear-gradient(135deg, #E5E4E2 0%, #C0C0C0 100%); color: #000; border: none; padding: 15px 40px; border-radius: 30px; font-weight: 900; font-size: 1rem; width: 100%; box-shadow: 0 6px 20px rgba(229,228,226,0.4); cursor: pointer; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            SELECT PLAN
                        </button>
                    </div>
                    </div>
                
                <!-- Diamond VIP Tier (ULTIMATE) -->
                <div class="col-lg-6 col-md-8 mb-4">
                    <div class="tier-card" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 4px solid #00D9FF; border-radius: 20px; padding: 40px; text-align: center; box-shadow: 0 20px 60px rgba(0,217,255,0.5); transition: all 0.3s ease; height: 100%; position: relative;">
                        <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #00D9FF 0%, #0099FF 100%); color: #fff; padding: 5px 20px; border-radius: 20px; font-weight: 900; font-size: 0.8rem; letter-spacing: 1px; box-shadow: 0 4px 15px rgba(0,217,255,0.5);">ULTIMATE VIP</div>
                        <i class="fas fa-gem" style="font-size: 4rem; color: #00D9FF; margin-bottom: 20px; margin-top: 10px; animation: pulse 2s ease-in-out infinite;"></i>
                        <h3 style="color: #00D9FF; font-weight: 900; margin-bottom: 10px; font-size: 2rem;">DIAMOND VIP</h3>
                        <h2 style="color: #fff; font-weight: 900; margin-bottom: 5px; font-size: 2.5rem;">From $599<span style="font-size: 1rem; color: #999;">/day</span></h2>
                        <p style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">$2,499/mo â€¢ $24,990/yr</p>
                        <p style="color: #FFD700; font-size: 0.95rem; font-weight: 600; margin-bottom: 20px;">Save up to 88% annually!</p>
                        <p style="color: #00ff88; font-size: 1.5rem; font-weight: 900; margin-bottom: 25px; text-shadow: 0 0 20px rgba(0,255,136,0.5);">40-50 AI PICKS/DAY</p>
                        <div class="row">
                            <div class="col-md-6">
                                <ul style="list-style: none; padding: 0; margin-bottom: 20px; text-align: left;">
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #00D9FF; margin-right: 10px;"></i>40-50 AI picks daily</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>24/7 VIP support</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>Personal analyst</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>Priority alerts</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul style="list-style: none; padding: 0; margin-bottom: 20px; text-align: left;">
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>All sports coverage</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>Custom strategies</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>Exclusive insights</li>
                                    <li style="color: #fff; margin-bottom: 12px;"><i class="fas fa-check" style="color: #9966ff; margin-right: 10px;"></i>All premium features</li>
                                </ul>
                            </div>
                        </div>
                        <button onclick="selectMembershipDuration('diamond')" style="background: linear-gradient(135deg, #00D9FF 0%, #0099FF 100%); color: #fff; border: none; padding: 18px 50px; border-radius: 30px; font-weight: 900; font-size: 1.2rem; width: 100%; box-shadow: 0 8px 30px rgba(0,217,255,0.6); cursor: pointer; letter-spacing: 1px;" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 10px 40px rgba(0,217,255,0.8)'" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(0,217,255,0.6)'">
                            SELECT DIAMOND VIP
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Membership Tiers End -->

    <!-- Live Scores Ticker Start -->
    <div class="container-fluid bg-dark py-2">
        <div class="ticker-wrapper">
            <div class="ticker-content" id="liveScoresTicker">
                <span class="ticker-item">
                    <i class="fas fa-spinner fa-spin text-primary mr-2"></i>
                    Loading live scores and upcoming games...
                </span>
                        </div>
                    </div>
                    </div>
    <!-- Live Scores Ticker End -->

    <!-- All Sports Scores & News Start -->
    <div class="container-fluid pt-5 pb-3" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
            <span class="pr-3" style="background: transparent;">
                <i class="fas fa-chart-bar text-primary mr-2"></i>
                Live Scores & Sports News
            </span>
        </h2>
        
        <!-- All Sports Tabs -->
        <div class="row px-xl-5 mb-4">
            <div class="col-12">
                <ul class="nav nav-pills justify-content-center" id="sportsTabs">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="loadAllSportsScores('nfl'); return false;">
                            ðŸˆ NFL
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="loadAllSportsScores('nba'); return false;">
                            ðŸ€ NBA
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="loadAllSportsScores('mlb'); return false;">
                            âš¾ MLB
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="loadAllSportsScores('nhl'); return false;">
                            ðŸ’ NHL
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="loadAllSportsScores('cfb'); return false;">
                            ðŸˆ CFB
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Scores Grid -->
        <div class="row px-xl-5">
            <div class="col-12">
                <div id="allSportsScores">
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                            <span class="sr-only">Loading...</span>
    </div>
                        <p class="mt-3 text-light">Loading scores from all games...</p>
                    </div>
            </div>
                        </div>
                        </div>
        
        <!-- Auto-update indicator -->
        <div class="row px-xl-5 mt-4">
            <div class="col-12 text-center">
                <small class="text-muted">
                    <i class="fas fa-sync-alt text-success mr-1"></i>
                    Auto-updates every 30 seconds | 
                    <i class="far fa-clock mr-1"></i>
                    Last updated: <span id="scoresLastUpdated">Just now</span>
                </small>
        </div>
    </div>
        </div>
    <!-- All Sports Scores & News End -->

    <!-- LuckLab Expert Picks Start -->
    <div class="container-fluid pt-5 pb-3" id="picks" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
            <span class="pr-3" style="background: transparent;">
                <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 50px; width: auto; vertical-align: middle;" class="mr-2">
                LuckLab AI Bot Predictor - Expert Picks
            </span>
        </h2>
        
        <!-- Sport Filter Tabs -->
        <div class="row px-xl-5 mb-4">
            <div class="col-12 text-center">
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('all')">
                    All Sports
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('nfl')">
                    ðŸˆ NFL
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('nba')">
                    ðŸ€ NBA
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('mlb')">
                    âš¾ MLB
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('nhl')">
                    ðŸ’ NHL
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('ncaaf')">
                    ðŸˆ CFB
                </button>
                <button class="btn btn-outline-primary mx-2 sport-filter-btn" onclick="pickLoader.filterBySport('ncaab')">
                    ðŸ€ CBB
                </button>
    </div>
                    </div>
        
        <div class="row px-xl-5">
            <div class="col-12">
                <div id="lucklab-picks-grid">
                    <div class="text-center py-5">
                        <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
                            <span class="sr-only">Loading...</span>
        </div>
                        <p class="mt-3 text-light">Loading expert picks...</p>
    </div>
                        </div>
                    </div>
            </div>
                        </div>
    <!-- LuckLab Expert Picks End -->

    <!-- LuckLab AI Bot Predictor Start -->
    <div class="container-fluid pt-5 pb-3" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
            <span class="pr-3" style="background: transparent;">
                <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 50px; width: auto; vertical-align: middle;" class="mr-2">
                LuckLab AI Bot Predictor - Custom Predictions
            </span>
        </h2>
        <div class="row px-xl-5">
            <div class="col-12">
                <div class="alert alert-success mb-4 animate__animated animate__fadeIn" style="background: rgba(0, 255, 136, 0.1) !important; border: 1px solid #00ff88;">
                    <i class="fas fa-lightbulb mr-2"></i>
                    <strong>How it works:</strong> Select any upcoming game, choose your bet type (Spread, Moneyline, or Over/Under), and our proprietary LuckLab AI will analyze and generate the best pick!
                        </div>
                
                <div class="alert alert-warning mb-4" style="background: rgba(255, 193, 7, 0.1) !important; border: 1px solid #ffc107;">
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    <strong>Important:</strong> AI predictions are based on available data. Always verify current betting lines with your sportsbook before placing bets. Predictions are for entertainment purposes.
                    </div>
                
                <!-- Prediction Mode Selector -->
                <div class="mb-4">
                    <div class="btn-group btn-group-lg w-100" role="group">
                        <button type="button" id="singlePickMode" class="btn btn-success" onclick="switchPredictionMode('single')" style="
                            background: linear-gradient(135deg, #00ff88 0%, #00cc66 100%);
                            border: none;
                            font-weight: 700;
                            padding: 15px;
                        ">
                            <i class="fas fa-bullseye mr-2"></i>Single Pick
                        </button>
                        <button type="button" id="parlayMode" class="btn btn-outline-light" onclick="switchPredictionMode('parlay')" style="
                            border: 2px solid #9966ff;
                            font-weight: 700;
                            padding: 15px;
                            background: rgba(153,102,255,0.1);
                        ">
                            <i class="fas fa-layer-group mr-2"></i>AI Parlay Generator
                        </button>
                    </div>
                </div>
                
                <!-- Single Pick Section -->
                <div id="singlePickSection">
                <!-- Step 1: Select Sport -->
                <div class="prediction-step p-4 mb-4 rounded" style="background: #1a1a1a; border: 2px solid #00ff88;">
                    <h4 class="text-light mb-3">
                        <span class="step-number">1</span>
                        Select Sport
                    </h4>
                    <div class="btn-group btn-group-lg d-flex flex-wrap" role="group">
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="console.log('NFL button clicked'); loadGamesForPrediction('nfl')">
                            ðŸˆ NFL
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('nba')">
                            ðŸ€ NBA
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('mlb')">
                            âš¾ MLB
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('nhl')">
                            ðŸ’ NHL
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('ncaaf')">
                            ðŸˆ CFB
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('ncaab')">
                            ðŸ€ CBB
                        </button>
                        <button type="button" class="btn btn-outline-primary mb-2" onclick="loadGamesForPrediction('ncaabb')">
                            âš¾ CBASE
                        </button>
            </div>
                        </div>
                
                <!-- Step 2: Select Game -->
                <div class="prediction-step p-4 mb-4 rounded" style="background: #1a1a1a; border: 2px solid #00ff88;">
                    <h4 class="text-light mb-3">
                        <span class="step-number">2</span>
                        Select Game
                    </h4>
                    <select id="gameSelector" class="form-control form-control-lg" style="background: #0a0a0a; color: #ffffff; border: 1px solid #00ff88;">
                        <option>First, select a sport above</option>
                    </select>
                        </div>
                
                <!-- Step 3: Select Bet Type -->
                <div class="prediction-step p-4 mb-4 rounded" style="background: #1a1a1a; border: 2px solid #00ff88;">
                    <h4 class="text-light mb-3">
                        <span class="step-number">3</span>
                        Select Bet Type
                    </h4>
                    
                    <!-- Full Game Bets -->
                    <div class="mb-3">
                        <h6 class="text-success mb-2">Full Game</h6>
                        <div class="d-flex flex-wrap">
                            <button type="button" class="btn btn-outline-success bet-type-btn mb-2 mr-2" data-type="spread">
                                ðŸ“Š Spread
                            </button>
                            <button type="button" class="btn btn-outline-success bet-type-btn mb-2 mr-2" data-type="moneyline">
                                ðŸ’° Moneyline
                            </button>
                            <button type="button" class="btn btn-outline-success bet-type-btn mb-2 mr-2" data-type="overunder">
                                ðŸ“ˆ Over/Under
                            </button>
                    </div>
            </div>
                    
                    <!-- Period/Quarter/Inning Bets -->
                    <div id="periodBets">
                        <h6 class="text-primary mb-2">By Period/Quarter/Inning</h6>
                        
                        <!-- Football/Basketball Quarters -->
                        <div class="d-flex flex-wrap quarters-only">
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="1q">
                                1ï¸âƒ£ 1st Quarter
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="2q">
                                2ï¸âƒ£ 2nd Quarter
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="1h">
                                ðŸ• 1st Half
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="3q">
                                3ï¸âƒ£ 3rd Quarter
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="4q">
                                4ï¸âƒ£ 4th Quarter
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="2h">
                                ðŸ•‘ 2nd Half
                            </button>
                        </div>
                        
                        <!-- Baseball Innings (hidden by default) -->
                        <div class="d-none flex-wrap innings-only">
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="f5">
                                âš¾ First 5 Innings
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="1-3i">
                                1ï¸âƒ£ Innings 1-3
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="4-6i">
                                2ï¸âƒ£ Innings 4-6
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="7-9i">
                                3ï¸âƒ£ Innings 7-9
                            </button>
                        </div>
                        
                        <!-- Hockey Periods (hidden by default) -->
                        <div class="d-none flex-wrap periods-only">
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="1p">
                                1ï¸âƒ£ 1st Period
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="2p">
                                2ï¸âƒ£ 2nd Period
                            </button>
                            <button type="button" class="btn btn-outline-primary bet-type-btn mb-2 mr-2" data-type="3p">
                                3ï¸âƒ£ 3rd Period
                            </button>
                    </div>
            </div>
        </div>
                
                <!-- Step 4: Generate Prediction -->
                <div class="text-center">
                    <button id="generatePredictionBtn" class="btn btn-success btn-lg px-5 py-3" 
                            onclick="generateCustomPredictionFree()" disabled>
                        <i class="fas fa-robot mr-2"></i>
                        Generate AI Prediction (FREE TEST)
                    </button>
                    <p class="text-muted mt-2">
                        <small>Testing mode - Payment feature coming soon</small>
                    </p>
    </div>
                
                <!-- Prediction Result (Hidden until paid) -->
                <div id="prediction-result" class="mt-5" style="display: none;">
                    <!-- AI prediction will appear here after payment -->
                </div>
                </div>
                <!-- End Single Pick Section -->
                
                <!-- Parlay Generator Section -->
                <div id="parlaySection" style="display: none;">
                    <div class="alert mb-4" style="background: rgba(153, 102, 255, 0.1) !important; border: 2px solid #9966ff; border-radius: 15px;">
                        <div class="row align-items-center">
                            <div class="col-md-12">
                                <h5 style="color: #9966ff; font-weight: 700; margin-bottom: 10px;">
                                    <i class="fas fa-layer-group" style="margin-right: 10px;"></i>
                                    Parlay Builder
                                </h5>
                                <p style="color: #fff; margin-bottom: 0;">
                                    Build your own custom parlay OR let our AI create smart combinations with favorable odds (-170 or better).
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Parlay Mode Selection -->
                    <div class="mb-4">
                        <div class="btn-group btn-group-lg w-100" role="group">
                            <button type="button" id="aiParlayMode" class="btn" onclick="switchParlayMode('ai')" style="
                                background: linear-gradient(135deg, #9966ff 0%, #7744ff 100%);
                                color: #fff;
                                border: none;
                                font-weight: 700;
                                padding: 15px;
                            ">
                                <i class="fas fa-robot mr-2"></i>AI Auto-Generate
                            </button>
                            <button type="button" id="manualParlayMode" class="btn btn-outline-light" onclick="switchParlayMode('manual')" style="
                                border: 2px solid #9966ff;
                                font-weight: 700;
                                padding: 15px;
                                background: rgba(153,102,255,0.1);
                                color: #9966ff;
                            ">
                                <i class="fas fa-hand-pointer mr-2"></i>Manual Build
                            </button>
                        </div>
                    </div>
                    
                    <!-- AI Parlay Mode -->
                    <div id="aiParlaySection">
                        <div class="row mb-4">
                            <div class="col-md-4">
                                <label style="color: #fff; font-weight: 600; margin-bottom: 10px;">
                                    <i class="fas fa-list-ol" style="color: #9966ff; margin-right: 8px;"></i>Number of Legs
                                </label>
                                <select id="parlayLegs" class="form-control form-control-lg" style="padding: 12px; border: 2px solid #9966ff; border-radius: 10px; background: #000; color: #fff;">
                                    <option value="2">2-Leg Parlay</option>
                                    <option value="3" selected>3-Leg Parlay</option>
                                    <option value="4">4-Leg Parlay</option>
                                    <option value="5">5-Leg Parlay</option>
                                    <option value="6">6-Leg Parlay</option>
                                </select>
                            </div>
                            <div class="col-md-8">
                                <label style="color: #fff; font-weight: 600; margin-bottom: 10px;">
                                    <i class="fas fa-basketball-ball" style="color: #9966ff; margin-right: 8px;"></i>Sports to Include
                                </label>
                                <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayNFL" checked style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> ðŸˆ NFL
                                    </label>
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayNBA" checked style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> ðŸ€ NBA
                                    </label>
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayMLB" style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> âš¾ MLB
                                    </label>
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayNHL" style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> ðŸ’ NHL
                                    </label>
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayNCAAF" style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> ðŸˆ CFB
                                    </label>
                                    <label style="color: #fff; cursor: pointer; font-size: 1.1rem;">
                                        <input type="checkbox" id="parlayNCAAB" style="margin-right: 5px; width: 18px; height: 18px; vertical-align: middle;"> ðŸ€ CBB
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mb-4">
                            <button onclick="generateAIParlay()" class="btn btn-lg" style="
                                background: linear-gradient(135deg, #9966ff 0%, #7744ff 100%);
                                color: #fff;
                                border: none;
                                padding: 20px 60px;
                                border-radius: 30px;
                                font-weight: 900;
                                font-size: 1.3rem;
                                box-shadow: 0 8px 30px rgba(153,102,255,0.6);
                                letter-spacing: 1px;
                                transition: all 0.3s;
                            " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 12px 40px rgba(153,102,255,0.8)'" 
                               onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(153,102,255,0.6)'">
                                <i class="fas fa-magic" style="margin-right: 10px;"></i>GENERATE AI PARLAY
                            </button>
                        </div>
                    </div>
                    
                    <!-- Manual Parlay Mode -->
                    <div id="manualParlaySection" style="display: none;">
                        <div class="alert alert-info mb-4" style="background: rgba(0,123,255,0.1) !important; border: 1px solid #007bff;">
                            <i class="fas fa-info-circle mr-2"></i>
                            <strong>Build Your Own:</strong> Select 2-6 games and picks. The AI will analyze and provide odds, confidence, and reasoning for your custom parlay.
                        </div>
                        
                        <!-- Manual Parlay Legs Container -->
                        <div id="manualParlayLegs">
                            <!-- Parlay legs will be added here -->
                        </div>
                        
                        <div class="text-center mb-3">
                            <button onclick="addManualParlayLeg()" class="btn btn-outline-light" style="
                                border: 2px solid #9966ff;
                                color: #9966ff;
                                padding: 12px 40px;
                                border-radius: 20px;
                                font-weight: 700;
                            ">
                                <i class="fas fa-plus mr-2"></i>Add Another Leg
                            </button>
                        </div>
                        
                        <div class="text-center mb-4">
                            <button onclick="buildManualParlay()" id="buildParlayBtn" class="btn btn-lg" disabled style="
                                background: linear-gradient(135deg, #9966ff 0%, #7744ff 100%);
                                color: #fff;
                                border: none;
                                padding: 20px 60px;
                                border-radius: 30px;
                                font-weight: 900;
                                font-size: 1.3rem;
                                box-shadow: 0 8px 30px rgba(153,102,255,0.6);
                                letter-spacing: 1px;
                                transition: all 0.3s;
                            " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 12px 40px rgba(153,102,255,0.8)'" 
                               onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(153,102,255,0.6)'">
                                <i class="fas fa-hammer mr-2"></i>BUILD MY PARLAY
                            </button>
                            <p class="text-muted mt-2">
                                <small>Add at least 2 legs to build your parlay</small>
                            </p>
                        </div>
                    </div>
                    
                    <!-- Parlay Display -->
                    <div id="parlayDisplay" style="display: none; margin-top: 30px;">
                        <!-- Parlay will be displayed here -->
                    </div>
                </div>
                <!-- End Parlay Section -->
                
            </div>
        </div>
    </div>
    <!-- LuckLab AI Bot Predictor End -->

    <!-- Live Streaming Start -->
    <div class="container-fluid py-5" style="background: linear-gradient(135deg, #000000 0%, #0d1117 50%, #000000 100%); position: relative; overflow: hidden;">
        <!-- Animated Background Elements -->
        <div class="streaming-bg-elements">
            <div class="streaming-particle"></div>
            <div class="streaming-particle"></div>
            <div class="streaming-particle"></div>
            <div class="streaming-particle"></div>
            <div class="streaming-particle"></div>
        </div>
        
        <div class="container position-relative">
            <!-- Modern Header -->
            <div class="text-center mb-5">
                <div class="streaming-header">
                    <h2 class="streaming-title">
                        <span class="live-indicator">
                            <span class="live-dot"></span>
                            LIVE
                        </span>
                        Sports Streaming
                    </h2>
                    <p class="streaming-subtitle">Premium HD streams with zero lag. Watch any game, anywhere.</p>
                </div>
            </div>

            <!-- Main Streaming Interface -->
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="streaming-container">
                        <!-- Stream Control Panel -->
                        <div class="stream-control-panel">
                            <div class="row align-items-end">
                                <div class="col-md-4 mb-3">
                                    <div class="stream-input-group">
                                        <label class="stream-label">
                                            <i class="fas fa-tv"></i> Sport
                                        </label>
                                        <select id="streamSport" class="stream-select" onchange="updateStreamGames()">
                                            <option value="">Choose a sport...</option>
                                            <option value="nfl">ðŸˆ NFL</option>
                                            <option value="nba">ðŸ€ NBA</option>
                                            <option value="mlb">âš¾ MLB</option>
                                            <option value="nhl">ðŸ’ NHL</option>
                                            <option value="college-football">ðŸˆ College Football</option>
                                            <option value="college-basketball">ðŸ€ College Basketball</option>
                                            <option value="soccer">âš½ Soccer</option>
                                            <option value="tennis">ðŸŽ¾ Tennis</option>
                                            <option value="ufc">ðŸ¥Š UFC</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="stream-input-group">
                                        <label class="stream-label">
                                            <i class="fas fa-play-circle"></i> Live Game
                                        </label>
                                        <select id="streamGame" class="stream-select" disabled>
                                            <option value="">First select a sport...</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="stream-input-group">
                                        <label class="stream-label">
                                            <i class="fas fa-cog"></i> Quality
                                        </label>
                                        <select id="streamQuality" class="stream-select">
                                            <option value="1080p">ðŸŽ¯ 1080p HD</option>
                                            <option value="720p">ðŸ“º 720p HD</option>
                                            <option value="480p">ðŸ“± 480p SD</option>
                                            <option value="auto">âš¡ Auto</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Stream Actions -->
                            <div class="stream-actions">
                                <button class="stream-btn refresh-btn" onclick="refreshLiveGames()" title="Refresh live games">
                                    <i class="fas fa-sync-alt"></i>
                                    <span>Refresh</span>
                                </button>
                                <button id="streamButton" class="stream-btn primary-btn" onclick="startStream()" disabled>
                                    <i class="fas fa-play"></i>
                                    <span>Start Stream</span>
                                </button>
                                <button id="stopStreamButton" class="stream-btn stop-btn" onclick="stopStream()" style="display: none;">
                                    <i class="fas fa-stop"></i>
                                    <span>Stop Stream</span>
                                </button>
                            </div>
                        </div>

                        <!-- Stream Info Panel -->
                        <div id="streamInfoPanel" class="stream-info-panel" style="display: none;">
                            <!-- Populated by JavaScript -->
                        </div>

                        <!-- Features Grid -->
                        <div class="streaming-features">
                            <div class="row">
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-hd-video"></i>
                                        </div>
                                        <h6>HD Quality</h6>
                                        <p>1080p streams</p>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-bolt"></i>
                                        </div>
                                        <h6>Zero Lag</h6>
                                        <p>Real-time streaming</p>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-mobile-alt"></i>
                                        </div>
                                        <h6>All Devices</h6>
                                        <p>Desktop & mobile</p>
                                    </div>
                                </div>
                                <div class="col-md-3 col-6 mb-3">
                                    <div class="feature-card">
                                        <div class="feature-icon">
                                            <i class="fas fa-shield-alt"></i>
                                        </div>
                                        <h6>Secure</h6>
                                        <p>Private streams</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Live Streaming End -->

    <!-- About Section Start -->
    <div class="container-fluid pt-5 pb-3" id="about" style="background: #0a0a0a;">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="pr-3" style="background: transparent;">Why Choose LuckLab AI?</span></h2>
        <div class="row px-xl-5">
            <div class="col-lg-6">
                <h3 class="mb-4">Advanced AI Sports Prediction</h3>
                <p class="mb-4">Our cutting-edge AI algorithm analyzes thousands of data points including team performance, player statistics, weather conditions, and historical trends to provide you with the most accurate sports predictions available.</p>
                <p class="mb-4">
                    <strong class="text-primary">Powered by NeuroGest AI</strong> - The most advanced sports prediction technology available.
                </p>
                <ul class="list-unstyled">
                    <li><i class="fa fa-check text-primary mr-2"></i>Real-time Data Analysis</li>
                    <li><i class="fa fa-check text-primary mr-2"></i>Multiple Sports Coverage</li>
                    <li><i class="fa fa-check text-primary mr-2"></i>Instant Pick Delivery</li>
                    <li><i class="fa fa-check text-primary mr-2"></i>24/7 Support Available</li>
                </ul>
            </div>
            <div class="col-lg-6">
                <div class="p-4" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 2px solid #00ff88; border-radius: 15px; box-shadow: 0 8px 30px rgba(0, 255, 136, 0.2);">
                    <h4 class="mb-3" style="color: #00ff88; font-weight: 600;">How It Works</h4>
                    <div class="d-flex mb-3">
                        <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; margin-right: 15px; background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; font-weight: bold;">
                            <span class="font-weight-bold">1</span>
                        </div>
                        <div>
                            <h6 class="mb-1" style="color: white; font-weight: 600;">Browse Available Picks</h6>
                            <p class="mb-0" style="color: #b0b3b8;">View our current AI-powered predictions</p>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; margin-right: 15px; background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; font-weight: bold;">
                            <span class="font-weight-bold">2</span>
                        </div>
                        <div>
                            <h6 class="mb-1" style="color: white; font-weight: 600;">Purchase Your Pick</h6>
                            <p class="mb-0" style="color: #b0b3b8;">Buy the prediction that interests you</p>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px; margin-right: 15px; background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; font-weight: bold;">
                            <span class="font-weight-bold">3</span>
                        </div>
                        <div>
                            <h6 class="mb-1" style="color: white; font-weight: 600;">Get Instant Access</h6>
                            <p class="mb-0" style="color: #b0b3b8;">Receive the AI's prediction immediately</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About Section End -->

    <!-- Contact Section Start -->
    <div class="container-fluid pt-5 pb-3" id="contact" style="background: #0a0a0a;">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="pr-3" style="background: transparent;">Contact Us</span></h2>
        <div class="row px-xl-5">
            <div class="col-lg-6">
                <div class="contact-form">
                    <form>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Your Name" required style="background: rgba(0, 0, 0, 0.6); border: 2px solid rgba(0, 255, 136, 0.3); color: white; border-radius: 10px;">
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Your Email" required style="background: rgba(0, 0, 0, 0.6); border: 2px solid rgba(0, 255, 136, 0.3); color: white; border-radius: 10px;">
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Subject" required style="background: rgba(0, 0, 0, 0.6); border: 2px solid rgba(0, 255, 136, 0.3); color: white; border-radius: 10px;">
                        </div>
                        <div class="form-group">
                            <textarea class="form-control" rows="5" placeholder="Your Message" required style="background: rgba(0, 0, 0, 0.6); border: 2px solid rgba(0, 255, 136, 0.3); color: white; border-radius: 10px;"></textarea>
                        </div>
                        <div>
                            <button class="btn py-2 px-4" type="submit" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold; border-radius: 10px;">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="p-4" style="background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%); border: 2px solid #00ff88; border-radius: 15px; box-shadow: 0 8px 30px rgba(0, 255, 136, 0.2);">
                    <h4 class="mb-3" style="color: #00ff88; font-weight: 600;">Get In Touch</h4>
                    <p class="mb-3" style="color: #b0b3b8;"><i class="fa fa-clock mr-2" style="color: #00ff88;"></i>24/7 Customer Support</p>
                    
                    <!-- Suggestions Box -->
                    <div class="mb-4">
                        <h5 class="mb-2" style="color: white; font-weight: 600;"><i class="fas fa-lightbulb mr-2" style="color: #00ff88;"></i>Site Feedback</h5>
                        <p class="mb-2" style="color: #b0b3b8; font-size: 0.9rem;">Help us improve LuckLab AI by sharing your suggestions!</p>
                        <div class="form-group mb-2">
                            <textarea id="suggestionsBox" class="form-control" rows="3" placeholder="Share your ideas for improving the site..." style="background: rgba(0, 0, 0, 0.6); border: 2px solid rgba(0, 255, 136, 0.3); color: white; border-radius: 10px; font-size: 0.9rem;"></textarea>
                        </div>
                        <button onclick="submitSuggestion()" class="btn btn-sm" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold; border-radius: 8px; padding: 6px 16px;">
                            <i class="fas fa-paper-plane mr-1"></i> Submit Feedback
                        </button>
                    </div>
                    
                    <h5 class="mb-3" style="color: white; font-weight: 600;">Follow Us</h5>
                    <div class="d-flex">
                        <a class="btn btn-square mr-2" href="#" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold;"><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-square mr-2" href="#" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold;"><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-square mr-2" href="#" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold;"><i class="fab fa-linkedin-in"></i></a>
                        <a class="btn btn-square" href="#" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold;"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Contact Section End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-secondary mt-5 pt-5">
        <div class="row px-xl-5 pt-5">
            <div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
                <h5 class="text-secondary text-uppercase mb-4">Get In Touch</h5>
                <p class="mb-4">Get winning sports predictions from our advanced AI Bot Predictor. Join thousands of satisfied customers who trust LuckLab AI Bot Predictor.</p>
                <p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>123 Street, New York, USA</p>
                <p class="mb-0"><i class="fa fa-clock text-primary mr-3"></i>24/7 Customer Support</p>
            </div>
            <div class="col-lg-8 col-md-12">
                <div class="row">
                    <div class="col-md-4 mb-5">
                        <h5 class="text-secondary text-uppercase mb-4">Quick Links</h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-secondary mb-2" href="#home"><i class="fa fa-angle-right mr-2"></i>Home</a>
                            <a class="text-secondary mb-2" href="#picks"><i class="fa fa-angle-right mr-2"></i>Available Picks</a>
                            <a class="text-secondary mb-2" href="#about"><i class="fa fa-angle-right mr-2"></i>About</a>
                            <a class="text-secondary mb-2" href="#contact"><i class="fa fa-angle-right mr-2"></i>Contact</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="text-secondary text-uppercase mb-4">My Account</h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-secondary mb-2" href="#" onclick="showCustomerDashboard()"><i class="fa fa-angle-right mr-2"></i>My Picks</a>
                            <!-- Admin Panel hidden for public -->
                            <a class="text-secondary mb-2" href="#help"><i class="fa fa-angle-right mr-2"></i>Help</a>
                            <a class="text-secondary" href="#faqs"><i class="fa fa-angle-right mr-2"></i>FAQs</a>
                        </div>
                    </div>
                    <div class="col-md-4 mb-5">
                        <h5 class="text-secondary text-uppercase mb-4">Newsletter</h5>
                        <p>Get the latest picks and updates delivered to your inbox</p>
                        <form action="">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Your Email Address">
                                <div class="input-group-append">
                                    <button class="btn btn-primary">Sign Up</button>
                                </div>
                            </div>
                        </form>
                        <h6 class="text-secondary text-uppercase mt-4 mb-3">Follow Us</h6>
                        <div class="d-flex">
                            <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row border-top mx-xl-5 py-4" style="border-color: rgba(256, 256, 256, .1) !important;">
            <div class="col-md-6 px-xl-0">
                <p class="mb-md-0 text-center text-md-left text-secondary">
                    &copy; <a class="text-primary" href="#">LuckLab AI Bot Predictor</a>. All Rights Reserved. 
                    <br><strong class="text-primary">Powered by NeuroGest AI</strong>
                </p>
            </div>
            <div class="col-md-6 px-xl-0 text-center text-md-right">
                <img class="img-fluid" src="img/payments.png" alt="">
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <!-- Admin Panel Modal -->
    <div id="adminModal" class="modal" style="display: none !important; visibility: hidden;">
        <div class="modal-dialog modal-xl" style="max-width: 95%; height: 90vh;">
            <div class="modal-content d-flex flex-column" style="height: 90vh;">
                <div class="modal-header bg-primary text-white">
                    <h4 class="modal-title">Admin Panel</h4>
                    <button type="button" class="close text-white" onclick="closeAdminPanel()">&times;</button>
                </div>
                <div class="modal-body bg-light text-center py-2">
                    <small class="text-primary font-weight-bold">Powered by NeuroGest AI</small>
                </div>
                <div class="modal-body flex-grow-1 overflow-auto">
                    <ul class="nav nav-tabs" id="adminTabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="add-pick-tab" data-toggle="tab" href="#add-pick" role="tab">Add New Pick</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="manage-picks-tab" data-toggle="tab" href="#manage-picks" role="tab">Manage Picks</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="manage-images-tab" data-toggle="tab" href="#manage-images" role="tab">Manage Images</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="view-sales-tab" data-toggle="tab" href="#view-sales" role="tab">View Sales</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="adminTabContent">
                        <div class="tab-pane fade show active" id="add-pick" role="tabpanel">
                            <form id="addPickForm" class="mt-3">
                                <div class="form-group">
                                    <input type="text" class="form-control" id="pickTitle" placeholder="Pick Title" required>
                                </div>
                                <div class="form-group">
                                    <select class="form-control" id="pickSport" required>
                                        <option value="">Select Sport</option>
                                        <option value="NFL">NFL</option>
                                        <option value="NBA">NBA</option>
                                        <option value="MLB">MLB</option>
                                        <option value="NHL">NHL</option>
                                        <option value="Soccer">Soccer</option>
                                        <option value="College Football">College Football</option>
                                        <option value="College Basketball">College Basketball</option>
                                        <option value="Tennis">Tennis</option>
                                        <option value="Golf">Golf</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" id="pickTeams" placeholder="Team vs Team" required>
                                </div>
                                <div class="form-group">
                                    <input type="number" class="form-control" id="pickPrice" placeholder="Price ($)" min="1" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <textarea class="form-control" id="pickDescription" placeholder="Pick Description" rows="4" required></textarea>
                                </div>
                                <div class="form-group">
                                    <textarea class="form-control" id="pickPrediction" placeholder="AI's Prediction" rows="3" required></textarea>
                                </div>
                                <div class="form-group">
                                    <input type="datetime-local" class="form-control" id="pickDate" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Add Pick</button>
                            </form>
                        </div>
                        <div class="tab-pane fade" id="manage-picks" role="tabpanel">
                            <div id="picksList" class="mt-3">
                                <!-- Picks will be loaded here -->
                            </div>
                        </div>
                        <div class="tab-pane fade" id="manage-images" role="tabpanel">
                            <div class="mt-3">
                                <h5>Carousel Background Images</h5>
                                <div class="row mb-4">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Carousel Image 1 (Main Hero)</label>
                                            <div class="mb-2">
                                                <img id="carousel1Preview" src="" class="img-fluid rounded" style="max-height: 100px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="carousel1File" accept="image/*" onchange="previewCarouselImage(1)">
                                            <input type="url" class="form-control mb-2" id="carousel1Url" placeholder="Or enter image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCarouselImage(1)">Update Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Carousel Image 2 (Win Rate)</label>
                                            <div class="mb-2">
                                                <img id="carousel2Preview" src="" class="img-fluid rounded" style="max-height: 100px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="carousel2File" accept="image/*" onchange="previewCarouselImage(2)">
                                            <input type="url" class="form-control mb-2" id="carousel2Url" placeholder="Or enter image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCarouselImage(2)">Update Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Carousel Image 3 (Delivery)</label>
                                            <div class="mb-2">
                                                <img id="carousel3Preview" src="" class="img-fluid rounded" style="max-height: 100px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="carousel3File" accept="image/*" onchange="previewCarouselImage(3)">
                                            <input type="url" class="form-control mb-2" id="carousel3Url" placeholder="Or enter image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCarouselImage(3)">Update Image</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <h5>Sports Category Images</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>NFL Image</label>
                                            <div class="mb-2">
                                                <img id="nflPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="nflFile" accept="image/*" onchange="previewCategoryImage('NFL')">
                                            <input type="url" class="form-control mb-2" id="nflImageUrl" placeholder="Or enter NFL image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('NFL')">Update NFL Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>NBA Image</label>
                                            <div class="mb-2">
                                                <img id="nbaPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="nbaFile" accept="image/*" onchange="previewCategoryImage('NBA')">
                                            <input type="url" class="form-control mb-2" id="nbaImageUrl" placeholder="Or enter NBA image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('NBA')">Update NBA Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>MLB Image</label>
                                            <div class="mb-2">
                                                <img id="mlbPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="mlbFile" accept="image/*" onchange="previewCategoryImage('MLB')">
                                            <input type="url" class="form-control mb-2" id="mlbImageUrl" placeholder="Or enter MLB image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('MLB')">Update MLB Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>NHL Image</label>
                                            <div class="mb-2">
                                                <img id="nhlPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="nhlFile" accept="image/*" onchange="previewCategoryImage('NHL')">
                                            <input type="url" class="form-control mb-2" id="nhlImageUrl" placeholder="Or enter NHL image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('NHL')">Update NHL Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Soccer Image</label>
                                            <div class="mb-2">
                                                <img id="soccerPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="soccerFile" accept="image/*" onchange="previewCategoryImage('Soccer')">
                                            <input type="url" class="form-control mb-2" id="soccerImageUrl" placeholder="Or enter Soccer image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('Soccer')">Update Soccer Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>Tennis Image</label>
                                            <div class="mb-2">
                                                <img id="tennisPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="tennisFile" accept="image/*" onchange="previewCategoryImage('Tennis')">
                                            <input type="url" class="form-control mb-2" id="tennisImageUrl" placeholder="Or enter Tennis image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('Tennis')">Update Tennis Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>College Football Image</label>
                                            <div class="mb-2">
                                                <img id="collegefootballPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="collegefootballFile" accept="image/*" onchange="previewCategoryImage('College Football')">
                                            <input type="url" class="form-control mb-2" id="collegefootballImageUrl" placeholder="Or enter College Football image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('College Football')">Update College Football Image</button>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label>College Basketball Image</label>
                                            <div class="mb-2">
                                                <img id="collegebasketballPreview" src="" class="img-fluid rounded" style="max-height: 80px; display: none;">
                                            </div>
                                            <input type="file" class="form-control-file mb-2" id="collegebasketballFile" accept="image/*" onchange="previewCategoryImage('College Basketball')">
                                            <input type="url" class="form-control mb-2" id="collegebasketballImageUrl" placeholder="Or enter College Basketball image URL">
                                            <button class="btn btn-sm btn-primary" onclick="updateCategoryImage('College Basketball')">Update College Basketball Image</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="alert alert-info mt-3">
                                    <strong>Tips:</strong>
                                    <ul class="mb-0">
                                        <li><strong>Upload Photos:</strong> Click "Choose File" to upload your own images</li>
                                        <li><strong>Or Use URLs:</strong> Paste image URLs in the text fields below</li>
                                        <li><strong>Carousel Images:</strong> Use landscape photos (1920x1080 or larger)</li>
                                        <li><strong>Category Images:</strong> Square images work best (400x400 or larger)</li>
                                        <li><strong>File Formats:</strong> JPG, PNG, GIF, WebP supported</li>
                                        <li><strong>File Size:</strong> Keep under 10MB for best performance</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="view-sales" role="tabpanel">
                            <div id="salesList" class="mt-3">
                                <!-- Sales will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div id="purchaseModal" class="modal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h4 class="modal-title">Purchase Pick</h4>
                    <button type="button" class="close text-white" onclick="closePurchaseModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="purchaseContent">
                        <!-- Purchase form will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Dashboard Modal -->
    <div id="dashboardModal" class="modal" style="display: none;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h4 class="modal-title">My Purchased Picks</h4>
                    <button type="button" class="close text-white" onclick="closeDashboard()">&times;</button>
                </div>
                <div class="modal-body bg-light text-center py-2">
                    <small class="text-primary font-weight-bold">Powered by NeuroGest AI</small>
                </div>
                <div class="modal-body">
                    <div id="dashboardContent">
                        <!-- Customer's purchased picks will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Telegram Login Modal -->
    <div id="telegramLoginModal" class="modal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h4 class="modal-title">
                        <i class="fas fa-comments"></i> Join Community
                    </h4>
                    <button type="button" class="close text-white" onclick="closeCommunityLogin()">&times;</button>
                </div>
                <div class="modal-body bg-light text-center py-2">
                    <small class="text-primary font-weight-bold">Powered by NeuroGest AI</small>
                </div>
                <div class="modal-body text-center">
                    <div class="mb-4">
                        <i class="fas fa-comments fa-3x text-primary mb-3"></i>
                        <h5>Join Community Chat</h5>
                        <p class="text-muted">Create an account to access our community chat rooms</p>
                    </div>
                    
                    <!-- Community Login Widget -->
                    <div id="community-login-widget" class="mb-3"></div>
                    
                    <div class="alert alert-info">
                        <strong>Benefits:</strong>
                        <ul class="mb-0 text-left">
                            <li>No password required</li>
                            <li>Instant account creation</li>
                            <li>Receive picks via Telegram</li>
                            <li>Quick support access</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bet Slip Widget -->
    <div id="betSlipWidget" class="bet-slip-widget" style="position: fixed; bottom: 90px; right: 20px; width: 380px; z-index: 999; border-radius: 15px; box-shadow: 0 8px 30px rgba(0, 255, 136, 0.3); background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border: 2px solid #00ff88;">
        <div class="bet-slip-header" onclick="toggleBetSlip()" style="background: linear-gradient(135deg, #000000 0%, #0d1117 100%); color: #00ff88; padding: 15px; border-bottom: 2px solid #00ff88; cursor: pointer; display: flex; align-items: center; justify-content: space-between; border-radius: 13px 13px 0 0;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <i class="fas fa-ticket-alt" style="color: #00ff88; font-size: 1.3em;"></i>
                <span style="font-weight: 600; font-size: 1.05rem;">My Bet Slip</span>
                <span id="betSlipCount" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; font-weight: bold; padding: 2px 10px; border-radius: 12px; font-size: 0.85rem; display: none;">0</span>
            </div>
            <i class="fas fa-chevron-down" id="betSlipToggleIcon" style="color: #00ff88;"></i>
        </div>
        <div class="bet-slip-body" id="betSlipBody" style="padding: 15px; max-height: 400px; overflow-y: auto;">
            <div id="betSlipEmpty" style="text-align: center; padding: 30px 20px; color: #b0b3b8;">
                <i class="fas fa-ticket-alt" style="font-size: 3rem; color: rgba(0, 255, 136, 0.3); margin-bottom: 15px;"></i>
                <p style="margin: 0; font-size: 0.95rem;">Your bet slip is empty</p>
                <p style="margin: 5px 0 0 0; font-size: 0.85rem;">Add picks from our AI predictions!</p>
            </div>
            <div id="betSlipItems" style="display: none;">
                <!-- Bet slip items will be dynamically inserted here -->
            </div>
            <div id="betSlipActions" style="margin-top: 15px; display: none;">
                <div class="d-flex" style="gap: 10px;">
                    <button onclick="betSlipBuilder.openHardRockBet()" class="btn" style="flex: 1; background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold; padding: 10px; border-radius: 8px; font-size: 0.9rem;">
                        <i class="fas fa-external-link-alt mr-1"></i>Open Hard Rock Bet
                    </button>
                    <button onclick="betSlipBuilder.clearBetSlip()" class="btn" style="background: rgba(255, 0, 0, 0.2); border: 1px solid rgba(255, 0, 0, 0.5); color: #ff4444; padding: 10px 15px; border-radius: 8px;">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Community Chat Widget -->
    <div id="communityChatWidget" class="community-chat-widget">
        <div class="chat-header" onclick="toggleCommunityChat()">
            <i class="fas fa-comments" style="color: #00ff88; font-size: 1.3em;"></i>
            <span id="chatGroupTitle" style="flex: 1; margin: 0 10px; font-weight: 600;">LuckLab AI Community</span>
            <i class="fas fa-chevron-up" id="chatToggleIcon" style="color: #00ff88;"></i>
        </div>
        <div class="chat-body" id="communityChatBody">
            <div class="chat-info">
                <small style="color: #b0b3b8;">
                    <i class="fas fa-users" style="color: #00ff88; margin-right: 5px;"></i> 
                    <span id="chatGroupInfo">Join our community to get started!</span>
                </small>
                <button class="btn btn-sm" onclick="showCommunityLogin()" id="joinGroupBtn" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: 600;">
                    <i class="fas fa-comments"></i> Join Chat
                </button>
            </div>
            <div class="chat-messages" id="communityMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        <strong>ðŸ’Ž Welcome to LuckLab AI Premium Community!</strong><br>
                        <span id="welcomeMessage">
                            This is an exclusive chat for paying members only. Purchase any pick to unlock access and join the conversation!
                        </span>
                    </div>
                    <div class="message-time">Just now</div>
                </div>
                <div class="message bot-message">
                    <div class="message-content">
                        <strong>ðŸ”’ Premium Member Benefits:</strong><br>
                        â€¢ <strong>Exclusive Chat Access:</strong> Discuss picks with other premium members<br>
                        â€¢ <strong>Real-time Pick Alerts:</strong> Get notified when new AI picks drop<br>
                        â€¢ <strong>Community Insights:</strong> Share strategies and wins with other bettors<br>
                        â€¢ <strong>Direct Support:</strong> Priority assistance from our team
                    </div>
                    <div class="message-time">Just now</div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="communityMessageInput" placeholder="ðŸ”’ Purchase a pick to unlock premium chat..." class="form-control" disabled onkeypress="handleCommunityKeyPress(event)">
                <button onclick="sendLocalMessage()" class="btn btn-primary" id="chatSendBtn" disabled>
                    <i class="fas fa-lock"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Community Login Modal -->
    <div id="communityLoginModal" class="modal" style="display: none;">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header text-white" style="background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); border-bottom: 3px solid #00ff88;">
                    <h4 class="modal-title" id="authModalTitle">
                        <i class="fas fa-rocket" style="color: #00ff88;"></i> Get Started
                    </h4>
                    <button type="button" class="close text-white" onclick="closeCommunityLogin()">&times;</button>
                </div>
                <div class="modal-body text-center py-2" style="background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);">
                    <small style="color: #000; font-weight: 900; letter-spacing: 0.5px;">POWERED BY NEUROGEST AI</small>
                </div>
                <div class="modal-body text-center" style="background: #f8f9fa;">
                    
                    <!-- Community Login Widget -->
                    <div id="community-login-widget" class="mb-3">
                        <div class="text-center">
                            
                            <div id="loginForm" style="display: block;">
                                <div class="mb-3 text-center">
                                    <i class="fas fa-sign-in-alt fa-3x mb-3" style="color: #00ff88;"></i>
                                    <h5 style="color: #000; font-weight: 700;">Welcome Back!</h5>
                                    <p style="color: #666; font-size: 0.9rem;">Sign in to your account</p>
                                </div>
                                
                                <div class="form-group">
                                    <label for="userEmail" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                        <i class="fas fa-envelope" style="color: #00ff88; margin-right: 5px;"></i>Email
                                    </label>
                                    <input type="email" id="userEmail" class="form-control" placeholder="your.email@example.com" required style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px;">
                                </div>
                                <div class="form-group">
                                    <label for="userPassword" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                        <i class="fas fa-lock" style="color: #00ff88; margin-right: 5px;"></i>Password
                                    </label>
                                    <input type="password" id="userPassword" class="form-control" placeholder="Your password" required style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px;">
                                </div>
                                
                                <button class="btn btn-block" onclick="loginWithLocalInfo()" style="
                                    background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
                                    color: #000;
                                    border: none;
                                    padding: 14px;
                                    border-radius: 12px;
                                    font-weight: 900;
                                    font-size: 1.1rem;
                                    letter-spacing: 1px;
                                    box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                                ">
                                    <i class="fas fa-sign-in-alt" style="margin-right: 10px;"></i>LOGIN
                                </button>
                                
                                <div class="mt-3 text-center">
                                    <small style="color: #666;">
                                        Don't have an account? 
                                        <a href="#" onclick="showRegister(); return false;" style="color: #00ff88; font-weight: 700; text-decoration: underline;">Register here</a>
                                    </small>
                                </div>
                            </div>
                            
                            <div id="registerForm" style="display: none;">
                                <div class="mb-4 text-center">
                                    <i class="fas fa-user-plus fa-3x mb-3" style="color: #00ff88;"></i>
                                    <h5 style="color: #000; font-weight: 700;">Create Your Account</h5>
                                    <p style="color: #666; font-size: 0.9rem;">Email verification required (one account per IP)</p>
                                </div>
                                
                                <div class="form-group">
                                    <label for="userDisplayName" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                        <i class="fas fa-user" style="color: #00ff88; margin-right: 5px;"></i>Display Name
                                    </label>
                                    <input type="text" id="userDisplayName" class="form-control" placeholder="Your name" required style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px;">
                                </div>
                                
                                <div class="form-group">
                                    <label for="userEmailReg" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                        <i class="fas fa-envelope" style="color: #00ff88; margin-right: 5px;"></i>Email Address
                                    </label>
                                    <input type="email" id="userEmailReg" class="form-control" placeholder="your.email@example.com" required style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px;">
                                    <small class="text-muted">We'll send a verification code to this email</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="userPasswordReg" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                        <i class="fas fa-lock" style="color: #00ff88; margin-right: 5px;"></i>Password
                                    </label>
                                    <input type="password" id="userPasswordReg" class="form-control" placeholder="Create a password (min 6 characters)" required style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px;">
                                </div>
                                
                                <div id="verificationCodeSection" style="display: none;">
                                    <div class="form-group">
                                        <label for="verificationCode" style="color: #000; font-weight: 600; margin-bottom: 8px;">
                                            <i class="fas fa-key" style="color: #00ff88; margin-right: 5px;"></i>Verification Code
                                        </label>
                                        <input type="text" id="verificationCode" class="form-control" placeholder="Enter 6-digit code from email" maxlength="6" style="padding: 12px; border: 2px solid #00ff88; border-radius: 10px; font-size: 1.2rem; letter-spacing: 3px; text-align: center;">
                                        <small class="text-muted">Check your email for the verification code</small>
                                    </div>
                                    
                                    <button class="btn btn-block" onclick="verifyAndCompleteRegistration()" style="
                                        background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
                                        color: #000;
                                        border: none;
                                        padding: 14px;
                                        border-radius: 12px;
                                        font-weight: 900;
                                        font-size: 1.1rem;
                                        letter-spacing: 1px;
                                        box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                                    ">
                                        <i class="fas fa-check-circle" style="margin-right: 10px;"></i>VERIFY & CREATE ACCOUNT
                                    </button>
                                    
                                    <button class="btn btn-link btn-sm mt-2" onclick="resendVerificationCode()">
                                        <i class="fas fa-redo"></i> Resend Code
                                </button>
                                </div>
                                
                                <button id="sendVerificationBtn" class="btn btn-block" onclick="sendVerificationEmail()" style="
                                    background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
                                    color: #000;
                                    border: none;
                                    padding: 14px;
                                    border-radius: 12px;
                                    font-weight: 900;
                                    font-size: 1.1rem;
                                    letter-spacing: 1px;
                                    box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                                    transition: all 0.3s ease;
                                " onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 30px rgba(0,255,136,0.6)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 20px rgba(0,255,136,0.4)'">
                                    <i class="fas fa-paper-plane" style="margin-right: 10px;"></i>SEND VERIFICATION CODE
                                </button>
                                
                                <div class="mt-3 text-center">
                                    <small style="color: #666;">
                                        <i class="fas fa-shield-alt" style="color: #00ff88; margin-right: 5px;"></i>
                                        Secure registration with email verification
                                    </small>
                                </div>
                                
                                <div class="mt-3 text-center">
                                    <small style="color: #666;">
                                        Already have an account? 
                                        <a href="#" onclick="showLogin(); return false;" style="color: #00ff88; font-weight: 700; text-decoration: underline;">Login here</a>
                                    </small>
                                </div>
                            </div>
                            
                            <hr>
                            <small class="text-muted">
                                <i class="fas fa-shield-alt" style="color: #00ff88;"></i> <strong>Secure Registration</strong><br>
                                Email verification required to prevent bots and fake accounts.<br>
                                One account per IP address. Premium chat unlocks with any purchase.
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal" style="display: none;">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h4 class="modal-title">
                        <i class="fas fa-credit-card"></i> Complete Purchase
                    </h4>
                    <button type="button" class="close text-white" onclick="closePaymentModal()">&times;</button>
                </div>
                <div class="modal-body bg-light text-center py-2">
                    <small class="text-success font-weight-bold">Powered by NeuroGest AI</small>
                </div>
                <div class="modal-body">
                    <!-- Pick Details -->
                    <div id="paymentPickDetails" class="alert alert-info mb-4">
                        <h5>Purchase Details</h5>
                        <div id="paymentPickInfo"></div>
                        <div class="mt-2">
                            <strong>Total: $<span id="paymentTotal">0.00</span></strong>
                        </div>
                    </div>

                    <!-- Payment Form -->
                    <form id="paymentForm">
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fas fa-user"></i> Billing Information</h6>
                                <div class="form-group">
                                    <input type="text" id="cardholderName" class="form-control" placeholder="Cardholder Name" required>
                                </div>
                                <div class="form-group">
                                    <input type="email" id="billingEmail" class="form-control" placeholder="Email Address" required>
                                </div>
                                <div class="form-group">
                                    <input type="text" id="billingAddress" class="form-control" placeholder="Billing Address" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" id="billingCity" class="form-control" placeholder="City" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <input type="text" id="billingState" class="form-control" placeholder="State" required>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <input type="text" id="billingZip" class="form-control" placeholder="ZIP" required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6><i class="fas fa-credit-card"></i> Payment Information</h6>
                                <div class="form-group">
                                    <input type="text" id="cardNumber" class="form-control" placeholder="Card Number (1234 5678 9012 3456)" maxlength="19" required>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <input type="text" id="cardExpiry" class="form-control" placeholder="MM/YY" maxlength="5" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <input type="text" id="cardCVC" class="form-control" placeholder="CVC" maxlength="4" required>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <select id="cardType" class="form-control" required>
                                                <option value="">Card Type</option>
                                                <option value="visa">Visa</option>
                                                <option value="mastercard">Mastercard</option>
                                                <option value="amex">American Express</option>
                                                <option value="discover">Discover</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" class="custom-control-input" id="savePayment" checked>
                                        <label class="custom-control-label" for="savePayment">
                                            Save payment method for future purchases
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <hr>
                        
                        <div class="text-center">
                            <button type="submit" class="btn btn-success btn-lg" id="processPaymentBtn">
                                <i class="fas fa-lock"></i> Complete Purchase - $<span id="finalTotal">0.00</span>
                            </button>
                            <div class="mt-2">
                                <small class="text-muted">
                                    <i class="fas fa-shield-alt"></i> Your payment information is secure and encrypted
                                </small>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    
    <!-- LuckLab AI Custom JavaScript -->
    <script src="js/insightai.js?v=20251015007"></script>
    <script>
        // Emergency fix: Force load picks immediately on page load
        window.addEventListener('load', function() {
            console.log('ðŸš¨ Emergency load triggered');
            setTimeout(() => {
                if (typeof loadPicks === 'function') {
                    console.log('ðŸ”„ Forcing loadPicks()');
                    loadPicks();
                } else {
                    console.error('âŒ loadPicks function not found!');
                }
            }, 100);
        });
    </script>
    
    <!-- AI Predictions JavaScript -->
    <script src="js/ai-predictions.js"></script>
    
    <!-- Team Logos Database -->
    <script src="js/team-logos.js"></script>
    
    <!-- Sports News Feed -->
    <script src="js/sports-news-feed.js?v=20251015"></script>
    
    <!-- LuckLab Picks from JSON -->
    <script src="js/load-dimers-picks.js"></script>
    
    <!-- Bet Slip Builder -->
    <script src="js/bet-slip-builder.js"></script>
    
    <script>
        // Initialize sports news and ticker
        async function loadSportsNews(sport = 'nfl') {
            const news = await SportsNewsFeed.fetchSportsNews(sport);
            displayNewsFeed(news);
            
            const scores = await SportsNewsFeed.fetchLiveScores(sport);
            await displayLiveScores(scores);
            
            updateTicker(sport);
        }
        
        function displayNewsFeed(news) {
            const container = document.getElementById('sportsNewsFeed');
            if (!container || !news) return;
            
            container.innerHTML = news.slice(0, 6).map(article => `
                <div class="news-item mb-3 p-3 rounded" style="background: #1a1a1a; border: 1px solid #333;">
                    <div class="row">
                        ${article.image ? `
                        <div class="col-md-3">
                            <img src="${article.image}" class="img-fluid rounded" alt="${article.title}">
                        </div>
                        ` : ''}
                        <div class="${article.image ? 'col-md-9' : 'col-12'}">
                            <h5 class="mb-2 text-light">
                                <a href="${article.url}" target="_blank" class="text-light text-decoration-none">
                                    ${article.title}
                                </a>
                            </h5>
                            <p class="text-muted mb-2">${article.description || ''}</p>
                            <small class="text-primary">
                                <i class="far fa-clock"></i> ${formatTimeAgo(article.date)}
                            </small>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        async function displayLiveScores(scores) {
            const container = document.getElementById('liveScoresContainer');
            if (!container || !scores) return;
            
            console.log('ðŸŽ® Displaying live scores:', scores.length, 'games');
            console.log('ðŸŽ® Sample game:', scores[0]);
            
            // Check which games have picks
            const gamesWithPicks = await Promise.all(scores.slice(0, 5).map(async (game) => {
                const gameKey = `${game.awayTeam.name} @ ${game.homeTeam.name}`;
                const hasPicks = await checkGameHasPicks(gameKey, game.sport?.toLowerCase() || 'nfl');
                console.log(`ðŸŽ® Game ${gameKey}: hasPicks = ${hasPicks}`);
                return { ...game, hasPicks };
            }));
            
            console.log('ðŸŽ® Games with picks:', gamesWithPicks.filter(g => g.hasPicks).length);
            
            container.innerHTML = gamesWithPicks.map(game => {
                const gameKey = `${game.awayTeam.name} @ ${game.homeTeam.name}`;
                const picksIndicator = game.hasPicks ? '<span class="picks-indicator" title="ðŸ”¥ Premium Picks Available - Click to View!">ðŸŽ¯</span>' : '';
                
                return `
                    <div class="score-card mb-3 p-3 rounded game-card ${game.hasPicks ? 'has-picks' : ''}" 
                         style="background: #0a0a0a; border: 1px solid ${game.hasPicks ? '#00ff88' : '#00ff88'}; cursor: ${game.hasPicks ? 'pointer' : 'default'}; position: relative;"
                         data-game="${gameKey}" 
                         data-sport="${game.sport?.toLowerCase() || 'nfl'}"
                         onmouseover="${game.hasPicks ? `showPicksTooltip('${gameKey}', '${game.sport?.toLowerCase() || 'nfl'}')` : ''}"
                         onmouseout="${game.hasPicks ? 'hidePicksTooltip()' : ''}"
                         onclick="${game.hasPicks ? `showGamePicks('${gameKey}', '${game.sport?.toLowerCase() || 'nfl'}')` : ''}">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="badge badge-primary">${game.status}</span>
                            <small class="text-muted">${formatGameDate(game.date)} ${picksIndicator}</small>
                        </div>
                        <div class="row align-items-center text-center">
                            <div class="col-5">
                                <img src="${game.awayTeam.logo}" alt="${game.awayTeam.name}" style="width: 40px; height: 40px;">
                                <div class="mt-2 text-light small">${game.awayTeam.name}</div>
                                <h3 class="mb-0 text-success">${game.awayTeam.score || '-'}</h3>
                            </div>
                            <div class="col-2">
                                <h5 class="mb-0 text-primary">VS</h5>
                            </div>
                            <div class="col-5">
                                <img src="${game.homeTeam.logo}" alt="${game.homeTeam.name}" style="width: 40px; height: 40px;">
                                <div class="mt-2 text-light small">${game.homeTeam.name}</div>
                                <h3 class="mb-0 text-success">${game.homeTeam.score || '-'}</h3>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        async function updateTicker() {
            const ticker = document.getElementById('liveScoresTicker');
            if (!ticker) {
                console.log('âŒ Ticker element not found!');
                return;
            }
            
            console.log('ðŸ”„ Starting ticker update...');
            
            // Fetch scores from ALL sports
            const sports = ['nfl', 'nba', 'mlb', 'nhl', 'ncaaf', 'ncaab'];
            let allScores = [];
            
            for (const sport of sports) {
                try {
                    const scores = await SportsNewsFeed.fetchLiveScores(sport);
                    if (scores && scores.length > 0) {
                        allScores = allScores.concat(scores.map(game => ({
                            ...game,
                            sport: sport.toUpperCase()
                        })));
                        console.log(`âœ… Fetched ${scores.length} ${sport} games`);
                    }
                } catch (e) {
                    console.log(`Could not fetch ${sport} scores`);
                }
            }
            
            console.log(`ðŸ“Š Total games fetched: ${allScores.length}`);
            
            if (allScores.length === 0) {
                ticker.innerHTML = '<span class="ticker-item text-muted">No live games at the moment â€¢ Check back during game times</span>';
                return;
            }
            
            // Create ticker items with async pick checking
            console.log('ðŸŽ¯ Starting to check picks for each game...');
            const tickerItems = await Promise.all(allScores.map(async (game) => {
                const sportIcon = {
                    'NFL': 'ðŸˆ',
                    'NBA': 'ðŸ€',
                    'MLB': 'âš¾',
                    'NHL': 'ðŸ’',
                    'NCAAF': 'ðŸˆ',
                    'CFB': 'ðŸˆ',
                    'NCAAB': 'ðŸ€',
                    'CBB': 'ðŸ€'
                }[game.sport] || 'ðŸ†';
                
                const statusBadge = game.status.toLowerCase().includes('live') || game.status.toLowerCase().includes('progress') 
                    ? '<span class="badge badge-danger ml-1">LIVE</span>' 
                    : game.status.toLowerCase().includes('final')
                    ? '<span class="badge badge-success ml-1">FINAL</span>'
                    : '<span class="badge badge-info ml-1">UPCOMING</span>';
                
                // Check if this game has picks available
                const gameKey = `${game.awayTeam.name} @ ${game.homeTeam.name}`;
                console.log(`ðŸ” Checking picks for: ${gameKey} (${game.sport.toLowerCase()})`);
                const hasPicks = await checkGameHasPicks(gameKey, game.sport.toLowerCase());
                const picksIndicator = hasPicks ? '<span class="picks-indicator" title="ðŸ”¥ Premium Picks Available - Click to View!">ðŸŽ¯</span>' : '';
                
                console.log(`ðŸŽ¯ Game ${gameKey}: hasPicks = ${hasPicks}`);
                
                return `<span class="ticker-item game-item ${hasPicks ? 'has-picks' : ''}" 
                    data-game="${gameKey}" 
                    data-sport="${game.sport.toLowerCase()}"
                    onmouseover="showPicksTooltip('${gameKey}', '${game.sport.toLowerCase()}')"
                    onmouseout="hidePicksTooltip()"
                    onclick="${hasPicks ? `showGamePicks('${gameKey}', '${game.sport.toLowerCase()}')` : ''}"
                    style="cursor: ${hasPicks ? 'pointer' : 'default'}; position: relative;">
                    ${sportIcon} <strong class="text-primary">${game.shortName || game.name}</strong>: 
                    ${game.awayTeam.name} <strong class="text-success">${game.awayTeam.score || 0}</strong> - 
                    ${game.homeTeam.name} <strong class="text-success">${game.homeTeam.score || 0}</strong> 
                    ${statusBadge} ${picksIndicator}
                </span>`;
            }));
            
            const tickerItemsHTML = tickerItems.join(' â€¢ ');
            
            console.log('ðŸŽ¯ Generated ticker HTML:', tickerItemsHTML.substring(0, 500) + '...');
            console.log('ðŸŽ¯ Games with picks count:', tickerItems.filter(item => item.includes('has-picks')).length);
            
            ticker.innerHTML = tickerItemsHTML;
            
            // Test if the ticker is visible and interactive
            console.log('ðŸ” Ticker element:', ticker);
            console.log('ðŸ” Ticker visible:', ticker.offsetWidth > 0 && ticker.offsetHeight > 0);
            console.log('ðŸ” Ticker has children:', ticker.children.length);
            
            // Test hover functionality manually
            const gameItems = ticker.querySelectorAll('.game-item.has-picks');
            console.log('ðŸŽ¯ Found interactive game items:', gameItems.length);
            
            if (gameItems.length > 0) {
                console.log('ðŸŽ¯ First interactive item:', gameItems[0]);
                console.log('ðŸŽ¯ First item classes:', gameItems[0].className);
                console.log('ðŸŽ¯ First item style:', gameItems[0].style.cssText);
            }
            
            console.log('âœ… Ticker updated successfully!');
            
            // Test manual hover trigger and visibility
            setTimeout(() => {
                const firstGameItem = ticker.querySelector('.game-item.has-picks');
                if (firstGameItem) {
                    console.log('ðŸ§ª Testing manual hover on first game item...');
                    console.log('ðŸ” First item position:', firstGameItem.getBoundingClientRect());
                    console.log('ðŸ” First item computed style:', window.getComputedStyle(firstGameItem));
                    
                    // Make it very visible for testing
                    firstGameItem.style.border = '5px solid red';
                    firstGameItem.style.backgroundColor = 'yellow';
                    firstGameItem.style.padding = '10px';
                    firstGameItem.style.fontSize = '20px';
                    firstGameItem.style.zIndex = '9999';
                    firstGameItem.style.position = 'relative';
                    
                    firstGameItem.addEventListener('mouseover', () => {
                        console.log('âœ… Hover event triggered!');
                        firstGameItem.style.backgroundColor = 'lime';
                    });
                    
                    firstGameItem.addEventListener('click', () => {
                        console.log('âœ… Click event triggered!');
                        alert('Game clicked: ' + firstGameItem.dataset.game);
                    });
                } else {
                    console.log('âŒ No interactive game items found in ticker');
                }
                
                // Check if ticker is in viewport
                const tickerRect = ticker.getBoundingClientRect();
                console.log('ðŸ” Ticker position:', tickerRect);
                console.log('ðŸ” Ticker in viewport:', tickerRect.top >= 0 && tickerRect.left >= 0);
                console.log('ðŸ” Ticker visible on page:', ticker.offsetParent !== null);
                console.log('ðŸ” Ticker display style:', window.getComputedStyle(ticker).display);
                console.log('ðŸ” Ticker visibility style:', window.getComputedStyle(ticker).visibility);
                console.log('ðŸ” Ticker opacity:', window.getComputedStyle(ticker).opacity);
                console.log('ðŸ” Ticker z-index:', window.getComputedStyle(ticker).zIndex);
                
                // Force make ticker visible and fix positioning
                ticker.style.display = 'block';
                ticker.style.visibility = 'visible';
                ticker.style.opacity = '1';
                ticker.style.zIndex = '9999';
                ticker.style.position = 'relative';
                ticker.style.left = '0px'; // Fix negative positioning
                ticker.style.right = '0px';
                ticker.style.width = '100%';
                ticker.style.backgroundColor = 'rgba(255, 0, 0, 0.1)'; // Light red background
                ticker.style.border = '2px solid red';
                ticker.style.padding = '10px';
                ticker.style.margin = '10px';
                ticker.style.overflow = 'visible';
                
                console.log('ðŸ” Ticker forced visible - check the page now!');
            }, 1000);
        }
        
        // Helper function to extract team abbreviations from full names
        function extractTeamAbbreviation(fullName) {
            // Common team name patterns and their abbreviations
            const teamMap = {
                // NFL Teams
                'New England Patriots': 'NE',
                'Tennessee Titans': 'TEN',
                'Atlanta Falcons': 'ATL',
                'San Francisco 49ers': 'SF',
                'Carolina Panthers': 'CAR',
                'New York Jets': 'NYJ',
                'Green Bay Packers': 'GB',
                'Arizona Cardinals': 'ARI',
                'Buffalo Bills': 'BUF',
                'Miami Dolphins': 'MIA',
                'New York Giants': 'NYG',
                'Dallas Cowboys': 'DAL',
                'Philadelphia Eagles': 'PHI',
                'Washington Commanders': 'WAS',
                'Chicago Bears': 'CHI',
                'Detroit Lions': 'DET',
                'Minnesota Vikings': 'MIN',
                'Tampa Bay Buccaneers': 'TB',
                'New Orleans Saints': 'NO',
                'Los Angeles Rams': 'LAR',
                'Seattle Seahawks': 'SEA',
                'Kansas City Chiefs': 'KC',
                'Denver Broncos': 'DEN',
                'Las Vegas Raiders': 'LV',
                'Los Angeles Chargers': 'LAC',
                'Pittsburgh Steelers': 'PIT',
                'Cleveland Browns': 'CLE',
                'Baltimore Ravens': 'BAL',
                'Cincinnati Bengals': 'CIN',
                'Houston Texans': 'HOU',
                'Indianapolis Colts': 'IND',
                'Jacksonville Jaguars': 'JAX',
                'Tennessee Titans': 'TEN',
                
                // College Football Teams
                'LSU Tigers': 'LSU',
                'Vanderbilt Commodores': 'VAN',
                'Georgia Tech Yellow Jackets': 'GT',
                'Duke Blue Devils': 'DUKE',
                'Oklahoma Sooners': 'OKLA',
                'South Carolina Gamecocks': 'SC',
                'Ohio State Buckeyes': 'OSU',
                'Wisconsin Badgers': 'WIS',
                'Michigan State Spartans': 'MSU',
                'Indiana Hoosiers': 'IND',
                'Akron Zips': 'AKR',
                'Ball State Cardinals': 'BALL',
                'Alabama Crimson Tide': 'BAMA',
                'Auburn Tigers': 'AUB',
                'Florida Gators': 'FLA',
                'Georgia Bulldogs': 'UGA',
                'Tennessee Volunteers': 'TENN',
                'Texas Longhorns': 'TEX',
                'USC Trojans': 'USC',
                'UCLA Bruins': 'UCLA',
                'Oregon Ducks': 'ORE',
                'Washington Huskies': 'WASH',
                'Notre Dame Fighting Irish': 'ND',
                'Michigan Wolverines': 'MICH',
                'Penn State Nittany Lions': 'PSU',
                'Iowa Hawkeyes': 'IOWA',
                'Nebraska Cornhuskers': 'NEB',
                'Minnesota Golden Gophers': 'MINN',
                'Purdue Boilermakers': 'PUR',
                'Illinois Fighting Illini': 'ILL',
                'Northwestern Wildcats': 'NW',
                'Maryland Terrapins': 'MD',
                'Rutgers Scarlet Knights': 'RUTG',
                'Clemson Tigers': 'CLEM',
                'Florida State Seminoles': 'FSU',
                'Miami Hurricanes': 'MIA',
                'Virginia Tech Hokies': 'VT',
                'North Carolina Tar Heels': 'UNC',
                'Wake Forest Demon Deacons': 'WAKE',
                'Boston College Eagles': 'BC',
                'Louisville Cardinals': 'LOU',
                'Pittsburgh Panthers': 'PITT',
                'Syracuse Orange': 'SYR',
                'Virginia Cavaliers': 'UVA',
                'NC State Wolfpack': 'NCST'
            };
            
            return teamMap[fullName] || fullName.split(' ')[0]; // Fallback to first word
        }
        
        // Check if a game has picks available
        async function checkGameHasPicks(gameKey, sport) {
            // Use the global picks array that we know is loaded (114 picks)
            if (typeof picks !== 'undefined' && picks.length > 0) {
                console.log(`ðŸ” Checking picks for: ${gameKey} (${sport})`);
                console.log(`ðŸ“Š Total picks available: ${picks.length}`);
                
                // Extract team names from gameKey (e.g., "LSU Tigers @ Vanderbilt Commodores")
                const [awayTeam, homeTeam] = gameKey.split(' @ ');
                const awayAbbr = extractTeamAbbreviation(awayTeam);
                const homeAbbr = extractTeamAbbreviation(homeTeam);
                
                console.log(`ðŸˆ Teams: ${awayTeam} (${awayAbbr}) @ ${homeTeam} (${homeAbbr})`);
                
                // Debug: Show first few picks to see the format
                console.log(`ðŸ“‹ Sample picks:`, picks.slice(0, 3).map(p => ({
                    game: p.game,
                    teams: p.teams,
                    matchup: p.matchup,
                    sport: p.sport,
                    allKeys: Object.keys(p)
                })));
                
                // Debug: Check if any picks have college football sport
                const collegePicks = picks.filter(p => 
                    (p.sport || '').toLowerCase().includes('college') || 
                    (p.sport || '').toLowerCase().includes('ncaaf')
                );
                console.log(`ðŸˆ College football picks found: ${collegePicks.length}`);
                if (collegePicks.length > 0) {
                    console.log(`ðŸ“‹ Sample college picks:`, collegePicks.slice(0, 2).map(p => ({
                        game: p.game,
                        teams: p.teams,
                        matchup: p.matchup,
                        sport: p.sport
                    })));
                }
                
                // First, let's test if we can find ANY college football picks
                const anyCollegePicks = picks.some(pick => {
                    const pickSport = (pick.sport || '').toLowerCase();
                    return pickSport.includes('college') || pickSport.includes('ncaaf');
                });
                console.log(`ðŸ” Any college football picks in data? ${anyCollegePicks}`);
                
                const hasPicks = picks.some(pick => {
                    const pickGame = pick.game || pick.teams || pick.matchup || '';
                    const pickSport = (pick.sport || '').toLowerCase();
                    
                    // Check sport match - handle various formats
                    const sportMatch = pickSport === sport || 
                                     pickSport.includes(sport) || 
                                     sport.includes(pickSport) ||
                                     (sport === 'ncaaf' && (pickSport.includes('college') || pickSport === 'college-football' || pickSport === 'College Football')) ||
                                     (sport === 'ncaab' && (pickSport.includes('college') || pickSport === 'college-football' || pickSport === 'College Football')) ||
                                     (sport === 'nfl' && (pickSport.includes('nfl') || pickSport === 'nfl' || pickSport === 'Nfl')) ||
                                     (sport === 'nba' && (pickSport.includes('nba') || pickSport === 'nba' || pickSport === 'Nba')) ||
                                     (sport === 'mlb' && (pickSport.includes('mlb') || pickSport === 'mlb' || pickSport === 'Mlb')) ||
                                     (sport === 'nhl' && (pickSport.includes('nhl') || pickSport === 'nhl' || pickSport === 'Nhl'));
                    
                    // Check game match - try multiple formats
                    const gameMatch = pickGame.includes(awayAbbr) || 
                                     pickGame.includes(homeAbbr) ||
                                     pickGame.includes(awayTeam) ||
                                     pickGame.includes(homeTeam) ||
                                     pickGame.includes(awayTeam.split(' ')[0]) ||
                                     pickGame.includes(homeTeam.split(' ')[0]);
                    
                    if (sportMatch && gameMatch) {
                        console.log(`âœ… MATCH FOUND: ${pickGame} (${pickSport})`);
                    }
                    
                    return sportMatch && gameMatch;
                });
                
                console.log(`ðŸŽ¯ Has picks: ${hasPicks}`);
                return hasPicks;
            }
            
            console.log(`âŒ No picks available in global array`);
            return false;
        }
        
        // Show picks tooltip on hover
        async function showPicksTooltip(gameKey, sport) {
            const hasPicks = await checkGameHasPicks(gameKey, sport);
            if (!hasPicks) return;
            
            // Create tooltip if it doesn't exist
            let tooltip = document.getElementById('picks-tooltip');
            if (!tooltip) {
                tooltip = document.createElement('div');
                tooltip.id = 'picks-tooltip';
                tooltip.style.cssText = `
                    position: fixed;
                    background: rgba(0, 0, 0, 0.95);
                    color: #00ff88;
                    padding: 10px 15px;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: bold;
                    z-index: 10000;
                    pointer-events: none;
                    border: 2px solid #00ff88;
                    box-shadow: 0 4px 12px rgba(0, 255, 136, 0.3);
                `;
                document.body.appendChild(tooltip);
            }
            
            tooltip.innerHTML = `ðŸŽ¯ Picks Available for This Game<br><small style="color: #fff;">Click to view details</small>`;
            tooltip.style.display = 'block';
            
            // Position tooltip near mouse
            document.addEventListener('mousemove', positionTooltip);
        }
        
        // Hide picks tooltip
        function hidePicksTooltip() {
            const tooltip = document.getElementById('picks-tooltip');
            if (tooltip) {
                tooltip.style.display = 'none';
                document.removeEventListener('mousemove', positionTooltip);
            }
        }
        
        // Position tooltip near mouse
        function positionTooltip(e) {
            const tooltip = document.getElementById('picks-tooltip');
            if (tooltip) {
                tooltip.style.left = (e.clientX + 10) + 'px';
                tooltip.style.top = (e.clientY - 40) + 'px';
            }
        }
        
        // Show game picks when clicked
        async function showGamePicks(gameKey, sport) {
            const hasPicks = await checkGameHasPicks(gameKey, sport);
            if (!hasPicks) return;
            
            // Check subscription status (mock for now - you can integrate with your actual subscription system)
            const userSubscription = localStorage.getItem('userSubscription') || 'free';
            const hasAccess = ['silver', 'gold', 'platinum', 'premium'].includes(userSubscription.toLowerCase());
            
            // Create modal to show subscription requirement or picks
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.9);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
            `;
            
            const content = document.createElement('div');
            content.style.cssText = `
                background: linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%);
                border: 3px solid ${hasAccess ? '#00ff88' : '#ff6b35'};
                border-radius: 20px;
                padding: 40px;
                max-width: 700px;
                max-height: 80vh;
                overflow-y: auto;
                color: #fff;
                text-align: center;
            `;
            
            if (!hasAccess) {
                // Show subscription requirement
                content.innerHTML = `
                    <div style="margin-bottom: 30px;">
                        <div style="font-size: 60px; margin-bottom: 20px;">ðŸ”’</div>
                        <h2 style="color: #ff6b35; margin-bottom: 20px;">Premium Picks Locked</h2>
                        <p style="color: #ccc; font-size: 18px; margin-bottom: 30px;">
                            This game has <strong style="color: #ff6b35;">${await getGamePicksCount(gameKey, sport)} premium picks</strong> available!
                        </p>
                    </div>
                    
                    <div style="background: rgba(255, 107, 53, 0.1); border: 2px solid #ff6b35; border-radius: 15px; padding: 25px; margin-bottom: 30px;">
                        <h3 style="color: #ff6b35; margin-bottom: 15px;">ðŸŽ¯ What You're Missing:</h3>
                        <ul style="text-align: left; color: #fff; font-size: 16px; line-height: 1.8;">
                            <li>AI-powered spread, total, and moneyline picks</li>
                            <li>Confidence scores and edge calculations</li>
                            <li>Real-time odds and probability analysis</li>
                            <li>Expert reasoning and game context</li>
                        </ul>
                    </div>
                    
                    <div style="margin-bottom: 30px;">
                        <h3 style="color: #00ff88; margin-bottom: 20px;">Upgrade to Silver or Better</h3>
                        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
                            <div style="background: rgba(0, 255, 136, 0.1); border: 2px solid #00ff88; border-radius: 10px; padding: 20px; min-width: 150px;">
                                <h4 style="color: #00ff88; margin-bottom: 10px;">ðŸ¥ˆ Silver</h4>
                                <p style="color: #fff; font-size: 14px;">Access to all picks</p>
                            </div>
                            <div style="background: rgba(255, 215, 0, 0.1); border: 2px solid #ffd700; border-radius: 10px; padding: 20px; min-width: 150px;">
                                <h4 style="color: #ffd700; margin-bottom: 10px;">ðŸ¥‡ Gold</h4>
                                <p style="color: #fff; font-size: 14px;">Premium features</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="this.closest('.modal').remove()" style="
                            background: #666;
                            border: none;
                            color: #fff;
                            padding: 12px 25px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-size: 16px;
                        ">Maybe Later</button>
                        <button onclick="window.location.href='#membership'" style="
                            background: linear-gradient(45deg, #ff6b35, #f7931e);
                            border: none;
                            color: #fff;
                            padding: 12px 25px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-size: 16px;
                            font-weight: bold;
                            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
                        ">Upgrade Now</button>
                    </div>
                `;
            } else {
                // Show actual picks for subscribers
                const gamePicks = await getGamePicks(gameKey, sport);
                
                content.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="color: #00ff88; margin: 0;">ðŸŽ¯ ${gameKey}</h3>
                        <button onclick="this.closest('.modal').remove()" style="
                            background: none;
                            border: none;
                            color: #fff;
                            font-size: 24px;
                            cursor: pointer;
                        ">Ã—</button>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <strong style="color: #00ff88;">${gamePicks.length} Premium Pick${gamePicks.length > 1 ? 's' : ''} Available:</strong>
                    </div>
                    ${gamePicks.map(pick => `
                        <div style="
                            background: rgba(0, 255, 136, 0.1);
                            border: 2px solid #00ff88;
                            border-radius: 15px;
                            padding: 20px;
                            margin-bottom: 15px;
                        ">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <strong style="color: #00ff88; font-size: 18px;">${pick.pick_type || 'Pick'}</strong>
                                <span style="color: #fff; background: #00ff88; padding: 5px 10px; border-radius: 15px; font-weight: bold;">${pick.confidence || 'N/A'}</span>
                            </div>
                            <div style="color: #fff; margin-bottom: 15px; font-size: 16px;">
                                <strong>Pick:</strong> ${pick.pick || 'N/A'}
                            </div>
                            <div style="display: flex; justify-content: space-between; color: #999;">
                                <span>Odds: ${pick.odds || 'N/A'}</span>
                                <span>Price: $${pick.price || '100'}</span>
                            </div>
                        </div>
                    `).join('')}
                `;
            }
            
            modal.className = 'modal';
            modal.appendChild(content);
            document.body.appendChild(modal);
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }
        
        // Helper function to get picks count for a game
        async function getGamePicksCount(gameKey, sport) {
            const gamePicks = await getGamePicks(gameKey, sport);
            return gamePicks.length;
        }
        
        // Helper function to get picks for a game
        async function getGamePicks(gameKey, sport) {
            let gamePicks = [];
            if (typeof picks !== 'undefined' && picks.length > 0) {
                const [awayTeam, homeTeam] = gameKey.split(' @ ');
                const awayAbbr = extractTeamAbbreviation(awayTeam);
                const homeAbbr = extractTeamAbbreviation(homeTeam);
                
                gamePicks = picks.filter(pick => {
                    const pickGame = pick.game || pick.teams || pick.matchup || '';
                    const pickSport = (pick.sport || '').toLowerCase();
                    
                    const sportMatch = pickSport === sport || 
                                     pickSport.includes(sport) || 
                                     sport.includes(pickSport) ||
                                     (sport === 'ncaaf' && (pickSport.includes('college') || pickSport === 'college-football' || pickSport === 'College Football')) ||
                                     (sport === 'ncaab' && (pickSport.includes('college') || pickSport === 'college-football' || pickSport === 'College Football')) ||
                                     (sport === 'nfl' && (pickSport.includes('nfl') || pickSport === 'nfl' || pickSport === 'Nfl')) ||
                                     (sport === 'nba' && (pickSport.includes('nba') || pickSport === 'nba' || pickSport === 'Nba')) ||
                                     (sport === 'mlb' && (pickSport.includes('mlb') || pickSport === 'mlb' || pickSport === 'Mlb')) ||
                                     (sport === 'nhl' && (pickSport.includes('nhl') || pickSport.includes('nhl') || pickSport === 'Nhl'));
                    
                    const gameMatch = pickGame.includes(awayAbbr) || 
                                     pickGame.includes(homeAbbr) ||
                                     pickGame.includes(awayTeam) ||
                                     pickGame.includes(homeTeam) ||
                                     pickGame.includes(awayTeam.split(' ')[0]) ||
                                     pickGame.includes(homeTeam.split(' ')[0]);
                    
                    return sportMatch && gameMatch;
                });
            }
            return gamePicks;
        }
        
        function formatTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            if (seconds < 60) return 'Just now';
            if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
            return new Date(date).toLocaleDateString();
        }
        
        function formatGameDate(date) {
            return new Date(date).toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            });
        }
        
        // Load all sports scores function
        async function loadAllSportsScores(sport = 'nfl') {
            const container = document.getElementById('allSportsScores');
            if (!container) return;
            
            container.innerHTML = `
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
                    <p class="mt-3 text-light">Loading ${sport.toUpperCase()} scores...</p>
                </div>
            `;
            
            const scores = await SportsNewsFeed.fetchLiveScores(sport);
            
            if (!scores || scores.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-info-circle text-primary" style="font-size: 3rem;"></i>
                        <p class="mt-3 text-light">No games available for ${sport.toUpperCase()}</p>
                    </div>
                `;
                return;
            }
            
            console.log('ðŸŽ® Loading sports scores for', sport, ':', scores.length, 'games');
            
            // Check which games have picks
            const gamesWithPicks = await Promise.all(scores.map(async (game) => {
                const gameKey = `${game.awayTeam.name} @ ${game.homeTeam.name}`;
                const hasPicks = await checkGameHasPicks(gameKey, sport);
                console.log(`ðŸŽ® Game ${gameKey}: hasPicks = ${hasPicks}`);
                return { ...game, hasPicks };
            }));
            
            console.log('ðŸŽ® Games with picks:', gamesWithPicks.filter(g => g.hasPicks).length);
            
            const html = `
                <div class="row">
                    ${gamesWithPicks.map(game => {
                        const gameKey = `${game.awayTeam.name} @ ${game.homeTeam.name}`;
                        const picksIndicator = game.hasPicks ? '<span class="picks-indicator" title="ðŸ”¥ Premium Picks Available - Click to View!">ðŸŽ¯</span>' : '';
                        
                        return `
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="score-card-full p-4 rounded game-card ${game.hasPicks ? 'has-picks' : ''}" 
                                 style="background: #1a1a1a; border: 2px solid ${game.hasPicks ? '#00ff88' : '#00ff88'}; cursor: ${game.hasPicks ? 'pointer' : 'default'}; position: relative;"
                                 data-game="${gameKey}" 
                                 data-sport="${sport}"
                                 onmouseover="${game.hasPicks ? `showPicksTooltip('${gameKey}', '${sport}')` : ''}"
                                 onmouseout="${game.hasPicks ? 'hidePicksTooltip()' : ''}"
                                 onclick="${game.hasPicks ? `showGamePicks('${gameKey}', '${sport}')` : ''}">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="badge ${game.hasPicks ? 'badge-success' : getStatusBadgeClass(game.status)}">${game.hasPicks ? 'Picks Available' : game.status}</span>
                                    <small class="text-muted">${formatGameDate(game.date)} ${picksIndicator}</small>
                                </div>
                                
                                <div class="game-matchup">
                                    <div class="team-row d-flex justify-content-between align-items-center p-2 mb-2 rounded" 
                                         style="background: rgba(0, 255, 136, 0.05);">
                                        <div class="d-flex align-items-center">
                                            <img src="${game.awayTeam.logo}" alt="${game.awayTeam.name}" 
                                                 style="width: 40px; height: 40px; margin-right: 10px;">
                                            <span class="text-light">${game.awayTeam.name}</span>
                                        </div>
                                        <h3 class="mb-0 text-success font-weight-bold">${game.awayTeam.score || '-'}</h3>
                                    </div>
                                    
                                    <div class="team-row d-flex justify-content-between align-items-center p-2 rounded" 
                                         style="background: rgba(0, 255, 136, 0.05);">
                                        <div class="d-flex align-items-center">
                                            <img src="${game.homeTeam.logo}" alt="${game.homeTeam.name}" 
                                                 style="width: 40px; height: 40px; margin-right: 10px;">
                                            <span class="text-light">${game.homeTeam.name}</span>
                                        </div>
                                        <h3 class="mb-0 text-success font-weight-bold">${game.homeTeam.score || '-'}</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    }).join('')}
                </div>
            `;
            
            container.innerHTML = html;
            document.getElementById('scoresLastUpdated').textContent = new Date().toLocaleTimeString();
        }
        
        function getStatusBadgeClass(status) {
            const s = status.toLowerCase();
            if (s.includes('live') || s.includes('progress')) return 'danger';
            if (s.includes('final')) return 'success';
            return 'info';
        }
        
        // Auto-load ALL sports on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Load NFL scores initially
            loadAllSportsScores('nfl');
            
            // Update ticker with ALL sports every 30 seconds
            updateTicker();
            setInterval(updateTicker, 30000);
            
            // Update scores display every 30 seconds
            setInterval(() => {
                const activeSport = document.querySelector('.nav-link.active')?.textContent.trim().split(' ')[1]?.toLowerCase() || 'nfl';
                loadAllSportsScores(activeSport);
            }, 30000);
        });
    </script>
    
    <script>
        // ESPN News Feed - Aggregated from multiple sports
        async function loadESPNNews() {
            const container = document.getElementById('espn-news-container');
            
            try {
                const allNews = [];
                const sports = ['football/nfl', 'basketball/nba', 'baseball/mlb', 'hockey/nhl', 'football/college-football', 'basketball/mens-college-basketball', 'baseball/college-baseball'];
                
                // Fetch headlines from each sport
                for (const sport of sports) {
                    try {
                        const response = await fetch(`https://site.api.espn.com/apis/site/v2/sports/${sport}/news`);
                        const data = await response.json();
                        
                        if (data.articles && data.articles.length > 0) {
                            allNews.push(...data.articles.slice(0, 3));
                        }
                    } catch (e) {
                        console.log(`Could not fetch ${sport} news`);
                    }
                }
                
                if (allNews.length > 0) {
                    // Sort by date and show latest 10
                    allNews.sort((a, b) => new Date(b.published) - new Date(a.published));
                    
                    container.innerHTML = allNews.slice(0, 10).map(article => {
                        // Get thumbnail image
                        const thumbnail = article.images?.[0]?.url || article.images?.[0]?.thumbnail || '';
                        
                        return `
                        <div class="news-item mb-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88; overflow: hidden;">
                            <div class="d-flex">
                                ${thumbnail ? `
                                    <div class="news-thumbnail" style="min-width: 100px; width: 100px; height: 100px; overflow: hidden;">
                                        <img src="${thumbnail}" alt="${article.headline}" 
                                             style="width: 100%; height: 100%; object-fit: cover;">
                                    </div>
                                ` : ''}
                                <div class="flex-fill p-3">
                                    <h6 class="text-light mb-2" style="font-size: 0.95rem;">
                                        <a href="${article.links?.web?.href || '#'}" target="_blank" class="text-light" style="text-decoration: none;">
                                            ${article.headline}
                                        </a>
                                    </h6>
                                    <p class="text-muted mb-2" style="font-size: 0.8rem; line-height: 1.4;">
                                        ${article.description ? article.description.substring(0, 80) + '...' : ''}
                                    </p>
                                    <small class="text-primary">
                                        <i class="far fa-clock mr-1"></i>
                                        ${new Date(article.published).toLocaleDateString()}
                                    </small>
                                </div>
                            </div>
                        </div>
                    `}).join('');
                } else {
                    // Show curated sports news content
                    showCuratedNews();
                }
            } catch (error) {
                console.error('Error loading ESPN news:', error);
                showCuratedNews();
            }
        }
        
        function showCuratedNews() {
            const container = document.getElementById('espn-news-container');
            const today = new Date().toLocaleDateString();
            
            container.innerHTML = `
                <div class="news-item mb-3 p-3 rounded animate__animated animate__fadeIn" style="background: rgba(0, 255, 136, 0.1); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-fire text-danger mr-2"></i>
                        ðŸ”¥ LuckLab AI Predictions Now Live!
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        Get instant AI-powered predictions for all major sports. Our algorithm analyzes thousands of data points to give you the edge.
                    </p>
                    <small class="text-primary">
                        <i class="far fa-clock mr-1"></i>${today}
                    </small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-football-ball text-warning mr-2"></i>
                        NFL Week Continues - Top Matchups Today
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        Check out our AI Bot Predictor for expert analysis on today's biggest NFL games. Get EV picks now!
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-basketball-ball text-info mr-2"></i>
                        NBA Action Heating Up
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        Tonight's NBA games feature top teams. Use our AI predictor to find the best value picks with detailed analysis.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-baseball-ball text-success mr-2"></i>
                        MLB Playoffs - Can't-Miss Games
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        The MLB playoffs are here! Get AI-powered predictions for every game with confidence scores and EV calculations.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-hockey-puck text-primary mr-2"></i>
                        NHL Season Underway
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        Hockey season is back! Our AI analyzes matchups, team stats, and trends to find the best betting opportunities.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-graduation-cap text-warning mr-2"></i>
                        College Football - Top Ranked Matchups
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        NCAA football is in full swing! Get AI predictions on all the biggest college games this weekend.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-university text-info mr-2"></i>
                        March Madness & College Hoops
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        College basketball season brings thousands of games. Our AI tracks every team and conference for the best picks.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.05); border-left: 3px solid #00ff88;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-baseball-ball text-danger mr-2"></i>
                        College Baseball - Road to Omaha
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        NCAA baseball features top collegiate talent. Our AI analyzes pitching matchups and offensive trends for winning picks.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
                
                <div class="news-item mb-3 p-3 rounded" style="background: rgba(0, 255, 136, 0.08); border-left: 3px solid #00cc6a;">
                    <h6 class="text-light mb-2">
                        <i class="fas fa-chart-line text-success mr-2"></i>
                        NeuroGest AI Technology
                    </h6>
                    <p class="text-muted mb-2" style="font-size: 0.9rem;">
                        Our proprietary AI engine processes real-time data to identify high Expected Value picks across all sports.
                    </p>
                    <small class="text-primary"><i class="far fa-clock mr-1"></i>${today}</small>
                </div>
            `;
        }
        
        // Load news on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadESPNNews();
            // Refresh news every 5 minutes
            setInterval(loadESPNNews, 5 * 60 * 1000);
        });
    </script>
    
    <script>
        // Custom Prediction System
        let selectedGame = null;
        let selectedBetType = null;
        let selectedSport = null;
        let upcomingGames = [];
        let lastGeneratedPrediction = null;
        
        // Load games for prediction
        async function loadGamesForPrediction(sport) {
            console.log('ðŸˆ loadGamesForPrediction called with sport:', sport);
            
            selectedSport = sport;
            const selector = document.getElementById('gameSelector');
            
            if (!selector) {
                console.error('âŒ gameSelector element not found!');
                alert('Error: Game selector not found. Please refresh the page.');
                return;
            }
            
            // Show appropriate period/quarter/inning options based on sport
            try {
                showPeriodOptions(sport);
            } catch (e) {
                console.error('Error showing period options:', e);
            }
            
            selector.innerHTML = '<option>Loading games...</option>';
            console.log('Loading games for', sport);
            
            try {
                console.log(`Fetching games for ${sport}...`);
                const response = await fetch(`http://localhost:5002/api/upcoming-games/${sport}`);
                console.log('Response status:', response.status);
                
                const data = await response.json();
                console.log('Games data:', data);
                
                upcomingGames = data.games || [];
                
                if (upcomingGames.length === 0) {
                    selector.innerHTML = '<option>No upcoming games found</option>';
                    console.warn('No games returned for', sport);
                    return;
                }
                
                console.log(`Found ${upcomingGames.length} games`);
                
                try {
                    selector.innerHTML = '<option value="">Select a game...</option>' +
                        upcomingGames.map((game, index) => {
                            const dateStr = formatGameDate(game.date);
                            return `<option value="${index}">${game.name} - ${dateStr}</option>`;
                        }).join('');
                    
                    console.log('âœ… Games loaded successfully');
                } catch (mapError) {
                    console.error('Error building dropdown:', mapError);
                    selector.innerHTML = '<option>Error loading games</option>';
                    return;
                }
                
                // Add change listener
                selector.onchange = function() {
                    selectedGame = this.value !== '' ? upcomingGames[this.value] : null;
                    checkIfReady();
                };
                
            } catch (error) {
                selector.innerHTML = '<option>Error loading games - Make sure server is running on port 5002</option>';
                console.error('Error loading games:', error);
                
                // Show helpful error message
                alert(`Could not load games!\n\nMake sure:\n1. AI Bot Predictor server is running (python chatgpt_predictor.py)\n2. Server is on port 5002\n3. Try NFL which has active games\n\nError: ${error.message}`);
            }
        }
        
        // Handle bet type selection
        document.addEventListener('DOMContentLoaded', function() {
            const betTypeBtns = document.querySelectorAll('.bet-type-btn');
            betTypeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    betTypeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedBetType = this.dataset.type;
                    checkIfReady();
                });
            });
        });
        
        // Check if ready to generate
        function checkIfReady() {
            const btn = document.getElementById('generatePredictionBtn');
            if (selectedGame && selectedBetType) {
                btn.disabled = false;
                btn.innerHTML = '<img src="img/lucklab-logo.png" style="height: 30px; width: auto; vertical-align: middle;" class="mr-2">Generate AI Prediction (FREE TEST)';
            } else {
                btn.disabled = true;
                btn.innerHTML = '<i class="fas fa-lock mr-2"></i>Select game and bet type first';
            }
        }
        
        // GLOBAL TEST FUNCTION - Call from console
        window.testAIPredictor = function() {
            console.log('ðŸ§ª TEST FUNCTION CALLED');
            console.log('Button exists:', document.getElementById('generatePredictionBtn'));
            console.log('selectedGame:', window.selectedGame);
            console.log('selectedBetType:', window.selectedBetType);
            console.log('Function exists:', typeof generateCustomPredictionFree);
        };
        
        // Generate custom prediction (FREE TEST MODE)
        async function generateCustomPredictionFree() {
            console.log('ðŸš€ generateCustomPredictionFree CALLED!');
            console.log('Selected Game:', selectedGame);
            console.log('Selected Bet Type:', selectedBetType);
            
            if (!selectedGame || !selectedBetType) {
                alert('Please select a game and bet type first!');
                return;
            }
            
            // CHECK MEMBERSHIP TIER AND USAGE
            const accessCheck = canUserGenerateAIPick();
            
            if (!accessCheck.allowed) {
                // Show upgrade modal
                alert(accessCheck.reason + '\n\nClick OK to see upgrade options.');
                showMembershipUpgrade();
                return;
            }
            
            // Show remaining picks
            if (accessCheck.remaining !== undefined && accessCheck.remaining !== 'unlimited') {
                console.log(`âœ… Generating pick... (${accessCheck.remaining} remaining today)`);
            }
            
            // Generate prediction
            await processCustomPrediction('test@lucklab.ai');
            
            // Increment usage counter
            incrementAIPickUsage();
            
            // Update display to show remaining picks
            const remaining = canUserGenerateAIPick().remaining;
            if (remaining !== 'unlimited' && remaining !== undefined) {
                showMessage(`âœ… Pick generated! You have ${remaining} AI picks remaining today.`, 'success');
            }
        }
        
        function showPredictionPaymentModal() {
            const betTypeNames = {
                'spread': 'Spread',
                'moneyline': 'Moneyline',
                'overunder': 'Over/Under',
                '1q': '1st Quarter',
                '2q': '2nd Quarter',
                '1h': '1st Half',
                '3q': '3rd Quarter',
                '4q': '4th Quarter',
                '2h': '2nd Half',
                'f5': 'First 5 Innings',
                '1-3i': 'Innings 1-3',
                '4-6i': 'Innings 4-6',
                '7-9i': 'Innings 7-9',
                '1p': '1st Period',
                '2p': '2nd Period',
                '3p': '3rd Period'
            };
            
            const modal = `
                <div class="modal fade show" id="predictionPaymentModal" style="display: block;">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content bg-dark border-success" style="border: 3px solid #00ff88;">
                            <div class="modal-header border-success">
                                <h4 class="modal-title text-light">
                                    <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 40px; width: auto; vertical-align: middle;" class="mr-2">
                                    AI Bot Predictor - Custom Analysis
                                </h4>
                                <button type="button" class="close text-light" onclick="closePredictionModal()">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-body p-4">
                                <div class="order-summary p-4 rounded mb-4" style="background: rgba(0, 255, 136, 0.1); border: 2px solid #00ff88;">
                                    <h5 class="text-light mb-3">ðŸ“‹ Your Custom Prediction:</h5>
                                    <p class="text-light mb-2"><strong>Game:</strong> ${selectedGame.name}</p>
                                    <p class="text-light mb-2"><strong>Sport:</strong> ${selectedSport.toUpperCase()}</p>
                                    <p class="text-light mb-2"><strong>Bet Type:</strong> ${betTypeNames[selectedBetType]}</p>
                                    <p class="text-light mb-0"><strong>Date:</strong> ${formatGameDate(selectedGame.date)}</p>
                                </div>
                                
                                    <div class="what-you-get p-4 rounded mb-4" style="background: #1a1a1a;">
                                    <h6 class="text-primary mb-3">âœ… What You Get:</h6>
                                    <ul class="text-light">
                                        <li>LuckLab AI powered analysis of this specific game</li>
                                        <li>Best ${betTypeNames[selectedBetType]} pick with reasoning</li>
                                        <li>Confidence score and Expected Value (EV)</li>
                                        <li>Key factors analysis</li>
                                        <li>Instant delivery + email</li>
                                    </ul>
                                </div>
                                
                                <div class="price-box text-center p-4 mb-4 rounded" style="background: linear-gradient(135deg, #00ff88, #00cc6a);">
                                    <h2 class="text-dark mb-0">$55.00</h2>
                                    <p class="text-dark mb-0">One-time payment</p>
                                </div>
                                
                                <form id="predictionPaymentForm">
                                    <div class="form-group">
                                        <label class="text-light">Email Address:</label>
                                        <input type="email" class="form-control form-control-lg" id="predictionEmail" 
                                               required placeholder="your@email.com"
                                               style="background: #0a0a0a; color: #ffffff; border: 1px solid #00ff88;">
                                        <small class="text-muted">We'll send your prediction to this email</small>
                                    </div>
                                    
                                    <div class="custom-control custom-checkbox mb-4">
                                        <input type="checkbox" class="custom-control-input" id="agreePredictionTerms" required>
                                        <label class="custom-control-label text-light" for="agreePredictionTerms">
                                            I understand this is for entertainment purposes and AI predictions are not guaranteed
                                        </label>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-success btn-block btn-lg">
                                        <i class="fas fa-unlock mr-2"></i>
                                        Complete Payment & Get AI Prediction - $55
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-backdrop fade show"></div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modal);
            
            document.getElementById('predictionPaymentForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('predictionEmail').value;
                closePredictionModal();
                await processCustomPrediction(email);
            });
        }
        
        function closePredictionModal() {
            document.querySelectorAll('#predictionPaymentModal, .modal-backdrop').forEach(el => el.remove());
        }
        
        async function processCustomPrediction(email) {
            // Email is now passed as parameter (either from payment modal or test mode)
            
            // Check if this exact pick already exists
            const pickId = `${selectedSport}_${selectedGame.id}_${selectedBetType}`;
            const existingPicks = JSON.parse(localStorage.getItem('botPicks')) || [];
            const existingPick = existingPicks.find(p => p.id === pickId);
            
            if (existingPick) {
                console.log('âœ… Reusing existing pick:', existingPick);
                
                // Show the existing prediction immediately
                const resultContainer = document.getElementById('prediction-result');
                resultContainer.style.display = 'block';
                
                // Create prediction object from existing pick
                const prediction = {
                    pick: existingPick.pick,
                    confidence: existingPick.confidence,
                    expected_value: existingPick.odds,
                    reasoning: existingPick.analysis,
                    key_factors: existingPick.keyFactors,
                    best_ev_pick: existingPick.game,
                    game_details: selectedGame,
                    generated_at: existingPick.createdAt
                };
                
                displayCustomPrediction(prediction, email);
                
                // Update purchase count
                existingPick.purchasedBy.push(email);
                existingPick.totalPurchases++;
                localStorage.setItem('botPicks', JSON.stringify(existingPicks));
                
                return;
            }
            
            // If pick doesn't exist, generate new one with AI
            // Show loading with animated thinking bar
            const resultContainer = document.getElementById('prediction-result');
            resultContainer.style.display = 'block';
            resultContainer.innerHTML = `
                <div class="ai-thinking-container p-5 rounded" style="background: #1a1a1a; border: 3px solid #00ff88;">
                    <div class="text-center mb-4">
                        <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 120px; width: auto;" class="animate__animated animate__pulse animate__infinite">
                        <h3 class="text-light mt-3">AI Bot Predictor is Thinking...</h3>
                        <p class="text-muted">Analyzing ${selectedGame.name}</p>
                    </div>
                    
                    <!-- Animated Progress Bar -->
                    <div class="thinking-progress mb-4">
                        <div class="progress" style="height: 30px; background: #0a0a0a; border: 2px solid #00ff88; border-radius: 15px;">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" 
                                 role="progressbar" 
                                 id="thinkingProgressBar"
                                 style="width: 0%; background: linear-gradient(90deg, #00ff88, #00cc6a); font-size: 1.1rem; font-weight: bold;">
                                <span id="thinkingStage">Initializing AI...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Thinking Steps -->
                    <div class="thinking-steps">
                        <div class="thinking-step mb-2 p-2 rounded" id="step1" style="background: rgba(0, 255, 136, 0.05);">
                            <i class="fas fa-circle-notch fa-spin text-primary mr-2"></i>
                            <span class="text-light">Fetching live game data...</span>
                        </div>
                        <div class="thinking-step mb-2 p-2 rounded" id="step2" style="background: rgba(0, 255, 136, 0.05); opacity: 0.3;">
                            <i class="fas fa-hourglass-half text-muted mr-2"></i>
                            <span class="text-muted">Analyzing team statistics & trends...</span>
                        </div>
                        <div class="thinking-step mb-2 p-2 rounded" id="step3" style="background: rgba(0, 255, 136, 0.05); opacity: 0.3;">
                            <i class="fas fa-hourglass-half text-muted mr-2"></i>
                            <span class="text-muted">Running LuckLab AI models...</span>
                        </div>
                        <div class="thinking-step mb-2 p-2 rounded" id="step4" style="background: rgba(0, 255, 136, 0.05); opacity: 0.3;">
                            <i class="fas fa-hourglass-half text-muted mr-2"></i>
                            <span class="text-muted">Calculating Expected Value...</span>
                        </div>
                        <div class="thinking-step mb-2 p-2 rounded" id="step5" style="background: rgba(0, 255, 136, 0.05); opacity: 0.3;">
                            <i class="fas fa-hourglass-half text-muted mr-2"></i>
                            <span class="text-muted">Generating your prediction...</span>
                        </div>
                    </div>
                </div>
            `;
            
            // Animate the progress bar and steps
            animateThinking();
            
            // Scroll to results
            resultContainer.scrollIntoView({ behavior: 'smooth' });
            
            try {
                // Call ChatGPT API for this SPECIFIC game only
                console.log('Sending request for:', selectedGame.name, selectedBetType);
                
                const response = await fetch('http://localhost:5002/api/analyze-game', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        sport: selectedSport,
                        game: selectedGame,
                        betType: selectedBetType
                    })
                });
                
                console.log('Response status:', response.status);
                
                if (!response.ok) {
                    throw new Error(`Server returned ${response.status}: ${response.statusText}`);
                }
                
                const prediction = await response.json();
                console.log('Prediction received:', prediction);
                
                if (prediction.error) {
                    throw new Error(prediction.error);
                }
                
                // Ensure key_factors exists
                if (!prediction.key_factors) {
                    prediction.key_factors = ['Analysis based on team performance', 'Statistical trends', 'Matchup analysis'];
                }
                
                // Display the prediction
                displayCustomPrediction(prediction, email);
                
                // Save purchase
                savePredictionPurchase(prediction, email);
                
                // LOG ADMIN ALERT
                logAdminAlert({
                    user: currentUser?.name || 'Guest',
                    email: currentUser?.email || email,
                    tier: currentUser?.membershipTier || 'free',
                    pick_type: 'single',
                    sport: selectedSport,
                    game: selectedGame.name,
                    bet_type: selectedBetType,
                    pick: prediction.pick,
                    confidence: prediction.confidence
                });
                
            } catch (error) {
                console.error('Full error:', error);
                resultContainer.innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
                        <p class="mt-3 text-light">Error generating prediction</p>
                        <small class="text-muted">${error.message}</small>
                        <br>
                        <small class="text-muted">Check console (F12) for details</small>
                        <br><br>
                        <button class="btn btn-primary" onclick="location.reload()">Refresh Page</button>
                    </div>
                `;
            }
        }
        
        function displayCustomPrediction(prediction, email) {
            const container = document.getElementById('prediction-result');
            
            // Save the prediction for bet slip
            lastGeneratedPrediction = {
                prediction: prediction,
                email: email,
                game: selectedGame,
                sport: selectedSport,
                betType: selectedBetType
            };
            
            const betTypeNames = {
                'spread': 'Spread',
                'moneyline': 'Moneyline',
                'overunder': 'Over/Under',
                '1q': '1st Quarter',
                '2q': '2nd Quarter',
                '1h': '1st Half',
                '3q': '3rd Quarter',
                '4q': '4th Quarter',
                '2h': '2nd Half',
                'f5': 'First 5 Innings',
                '1-3i': 'Innings 1-3',
                '4-6i': 'Innings 4-6',
                '7-9i': 'Innings 7-9',
                '1p': '1st Period',
                '2p': '2nd Period',
                '3p': '3rd Period'
            };
            
            container.innerHTML = `
                <div class="custom-prediction-result animate__animated animate__bounceIn p-5 rounded" 
                     style="background: #1a1a1a; border: 3px solid #00ff88; box-shadow: 0 0 40px rgba(0, 255, 136, 0.4);">
                    
                    <div class="text-center mb-4">
                        <i class="fas fa-check-circle text-success animate__animated animate__bounceIn" style="font-size: 5rem;"></i>
                        <h2 class="text-success mt-3">Payment Successful!</h2>
                        <p class="text-muted">Order #LL-${Date.now()}</p>
                    </div>
                    
                    <div class="unlock-animation mb-4 text-center">
                        <h3 class="text-primary mb-3">
                            <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 35px; width: auto; vertical-align: middle;" class="mr-2">
                            YOUR AI PREDICTION IS READY
                        </h3>
                    </div>
                    
                    ${prediction.game_details ? `
                        <div class="game-display mb-4 p-4 rounded" style="background: rgba(0, 255, 136, 0.05);">
                            <div class="d-flex justify-content-around align-items-center">
                                <div class="team-display text-center">
                                    <img src="${prediction.game_details.away_team.logo}" 
                                         style="width: 100px; height: 100px;">
                                    <p class="text-light mt-2 mb-0 font-weight-bold">${prediction.game_details.away_team.name}</p>
                                    <small class="text-muted">${prediction.game_details.away_team.record}</small>
                                </div>
                                <div class="vs-display mx-4">
                                    <h1 class="text-primary mb-0">VS</h1>
                                </div>
                                <div class="team-display text-center">
                                    <img src="${prediction.game_details.home_team.logo}" 
                                         style="width: 100px; height: 100px;">
                                    <p class="text-light mt-2 mb-0 font-weight-bold">${prediction.game_details.home_team.name}</p>
                                    <small class="text-muted">${prediction.game_details.home_team.record}</small>
                                </div>
                            </div>
                        </div>
                    ` : ''}
                    
                    <div class="ai-pick-reveal p-5 mb-4 text-center rounded animate__animated animate__pulse" 
                         style="background: linear-gradient(135deg, #00ff88, #00cc6a); box-shadow: 0 0 30px rgba(0, 255, 136, 0.6);">
                        <h6 class="text-dark mb-2">
                            <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 40px; width: auto; vertical-align: middle;" class="mr-2">
                            AI BOT PREDICTOR RECOMMENDATION:
                        </h6>
                        <h1 class="text-dark mb-3 font-weight-bold">${prediction.pick}</h1>
                        <div class="prediction-stats d-flex justify-content-center">
                            <div class="stat-box mx-4">
                                <p class="text-dark mb-1 small">Confidence</p>
                                <h3 class="text-dark mb-0">${prediction.confidence}</h3>
                            </div>
                            <div class="stat-box mx-4">
                                <p class="text-dark mb-1 small">Expected Value</p>
                                <h3 class="text-dark mb-0">${prediction.expected_value}</h3>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ai-analysis p-4 mb-4 rounded" style="background: rgba(0, 0, 0, 0.4); border-left: 5px solid #00ff88;">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-brain mr-2"></i>
                            AI Bot Deep Analysis:
                        </h5>
                        <p class="text-light" style="font-size: 1.15rem; line-height: 1.8;">
                            ${prediction.reasoning}
                        </p>
                    </div>
                    
                    <div class="key-factors p-4 rounded" style="background: rgba(0, 255, 136, 0.08);">
                        <h5 class="text-success mb-3">
                            <i class="fas fa-key mr-2"></i>
                            Key Factors for This Pick:
                        </h5>
                        <ul class="text-light mb-0" style="list-style: none; padding-left: 0;">
                            ${(prediction.key_factors || []).map(factor => `
                                <li class="mb-3 p-2 rounded" style="background: rgba(0, 0, 0, 0.3);">
                                    <i class="fas fa-check-circle text-success mr-2"></i>
                                    ${factor}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div class="delivery-info text-center mt-4 p-4 rounded" style="background: rgba(0, 255, 136, 0.05);">
                        <i class="fas fa-envelope text-primary mr-2" style="font-size: 2rem;"></i>
                        <p class="text-light mt-2 mb-0">
                            <strong>Prediction sent to:</strong> ${email}
                        </p>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button onclick="addGeneratedPickToBetSlip()" class="btn btn-lg" style="background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; border: none; font-weight: bold; padding: 15px 40px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);">
                            <i class="fas fa-ticket-alt mr-2"></i>Add to Bet Slip & Open Hard Rock Bet
                        </button>
                        <p class="text-muted mt-2 mb-0">
                            <small><i class="fas fa-info-circle mr-1"></i>Your pick will be added to your bet slip and you'll be taken to Hard Rock Bet</small>
                        </p>
                    </div>
                    
                    <div class="text-center mt-4 pt-4 border-top" style="border-color: rgba(0, 255, 136, 0.2) !important;">
                        <small class="text-muted">
                            <i class="fas fa-robot text-primary mr-2"></i>
                            Generated by LuckLab AI Bot Predictor | Powered by NeuroGest AI Technology
                        </small>
                    </div>
                </div>
            `;
        }
        
        function savePredictionPurchase(prediction, email) {
            const purchases = JSON.parse(localStorage.getItem('customPredictions')) || [];
            purchases.push({
                ...prediction,
                game: selectedGame.name,
                sport: selectedSport.toUpperCase(),
                bet_type: selectedBetType,
                email: email,
                purchased_at: new Date().toISOString(),
                order_id: 'LL-' + Date.now(),
                price: 55.00
            });
            localStorage.setItem('customPredictions', JSON.stringify(purchases));
            
            // Also add to Available Picks section so everyone can see/buy it
            addPredictionToAvailablePicks(prediction, email);
        }
        
        function addGeneratedPickToBetSlip() {
            if (!lastGeneratedPrediction) {
                alert('No prediction found. Please generate a pick first.');
                return;
            }
            
            const { prediction, game, sport, betType } = lastGeneratedPrediction;
            
            const betTypeNames = {
                'spread': 'Spread',
                'moneyline': 'Moneyline',
                'overunder': 'Over/Under',
                '1q': '1st Quarter',
                '2q': '2nd Quarter',
                '1h': '1st Half',
                '3q': '3rd Quarter',
                '4q': '4th Quarter',
                '2h': '2nd Half',
                'f5': 'First 5 Innings',
                '1-3i': 'Innings 1-3',
                '4-6i': 'Innings 4-6',
                '7-9i': 'Innings 7-9',
                '1p': '1st Period',
                '2p': '2nd Period',
                '3p': '3rd Period'
            };
            
            // Format the pick for the bet slip
            const betSlipPick = {
                gameId: 'custom-' + Date.now(),
                sport: sport.toUpperCase(),
                matchup: game.name,
                game: game.name,
                betType: betTypeNames[betType] || betType,
                pick: prediction.pick,
                prediction: prediction.pick,
                odds: prediction.odds || 'N/A',
                confidence: prediction.confidence || '',
                amount: 0
            };
            
            // Add to bet slip
            if (typeof betSlipBuilder !== 'undefined') {
                betSlipBuilder.addPickToBetSlip(betSlipPick);
                
                // Show success message
                setTimeout(() => {
                    // Open Hard Rock Bet
                    betSlipBuilder.openHardRockBet();
                }, 500);
            } else {
                alert('Bet slip system not loaded. Please refresh the page.');
            }
        }
        
        function addPredictionToAvailablePicks(prediction, email) {
            const betTypeNames = {
                'spread': 'Spread',
                'moneyline': 'Moneyline',
                'overunder': 'Over/Under',
                '1q': '1st Quarter',
                '2q': '2nd Quarter',
                '1h': '1st Half',
                '3q': '3rd Quarter',
                '4q': '4th Quarter',
                '2h': '2nd Half',
                'f5': 'First 5 Innings',
                '1-3i': 'Innings 1-3',
                '4-6i': 'Innings 4-6',
                '7-9i': 'Innings 7-9',
                '1p': '1st Period',
                '2p': '2nd Period',
                '3p': '3rd Period'
            };
            
            // Create a unique ID for this specific game + bet type combo
            const pickId = `custom-${Date.now()}-${selectedSport}_${selectedGame.id}_${selectedBetType}`;
            
            // Check if this exact pick already exists in localStorage
            const existingPicks = JSON.parse(localStorage.getItem('botPicks')) || [];
            
            // Create new pick for Available Picks section with proper format
            const newPick = {
                id: pickId,
                sport: selectedSport.toUpperCase(),
                teams: selectedGame.name, // Use 'teams' instead of 'game' for display
                game: selectedGame.name,
                pick_type: betTypeNames[selectedBetType] || selectedBetType,
                betType: betTypeNames[selectedBetType] || selectedBetType,
                pick: prediction.pick,
                prediction: prediction.pick,
                confidence: prediction.confidence,
                odds: prediction.odds || prediction.expected_value || 'N/A',
                expected_value: prediction.expected_value,
                price: 55.00,
                status: 'available',
                isActive: true,
                date: selectedGame.date || new Date().toISOString(),
                generated_at: new Date().toISOString(),
                reasoning: prediction.reasoning,
                description: prediction.reasoning,
                key_factors: prediction.key_factors || [],
                badge: '',
                source: 'LuckLab AI Bot Predictor',
                createdBy: 'AI Bot Predictor',
                createdAt: new Date().toISOString(),
                purchasedBy: [email],
                totalPurchases: 1
            };
            
            // Add to localStorage picks
            existingPicks.push(newPick);
            localStorage.setItem('botPicks', JSON.stringify(existingPicks));
            
            // Also save to backend JSON file via fetch
            savePredictionToBackend(newPick);
            
            // Reload picks display
            if (typeof loadPicks === 'function') {
                loadPicks();
            }
            
            console.log('âœ… Added new pick to Available Picks:', newPick);
        }
        
        // Save prediction to backend JSON file
        async function savePredictionToBackend(pick) {
            try {
                // Get current picks from backend
                const response = await fetch('lucklab_picks.json');
                let currentPicks = [];
                
                try {
                    currentPicks = await response.json();
                    if (!Array.isArray(currentPicks)) currentPicks = [];
                } catch (e) {
                    currentPicks = [];
                }
                
                // Add new pick
                currentPicks.push(pick);
                
                // Save back (Note: This won't work with static files, needs backend endpoint)
                // For now, it's saved in localStorage and will be available
                console.log('âœ… Pick saved to localStorage. Backend file update requires server endpoint.');
                
            } catch (error) {
                console.log('Note: Backend file update requires server endpoint. Pick saved to localStorage.');
            }
        }
        
        function showPeriodOptions(sport) {
            // Hide all first
            document.querySelector('.quarters-only').classList.add('d-none');
            document.querySelector('.innings-only').classList.add('d-none');
            document.querySelector('.periods-only').classList.add('d-none');
            
            // Show based on sport
            if (sport === 'mlb' || sport === 'ncaabb') {
                // Baseball - show innings
                document.querySelector('.innings-only').classList.remove('d-none');
                document.querySelector('.innings-only').classList.add('d-flex');
            } else if (sport === 'nhl') {
                // Hockey - show periods
                document.querySelector('.periods-only').classList.remove('d-none');
                document.querySelector('.periods-only').classList.add('d-flex');
            } else {
                // Football/Basketball - show quarters
                document.querySelector('.quarters-only').classList.remove('d-none');
                document.querySelector('.quarters-only').classList.add('d-flex');
            }
        }
        
        function formatGameDate(date) {
            try {
                if (!date) return 'Date TBD';
                const d = new Date(date);
                if (isNaN(d.getTime())) return 'Date TBD';
                
                return d.toLocaleDateString('en-US', {
                    weekday: 'short',
                    month: 'short',
                    day: 'numeric',
                    hour: 'numeric',
                    minute: '2-digit'
                });
            } catch (e) {
                return 'Date TBD';
            }
        }
        
        // Animate thinking process
        function animateThinking() {
            const progressBar = document.getElementById('thinkingProgressBar');
            const stageText = document.getElementById('thinkingStage');
            
            const stages = [
                { width: 20, text: 'Fetching live game data...', step: 1, duration: 1000 },
                { width: 40, text: 'Analyzing team stats...', step: 2, duration: 2000 },
                { width: 60, text: 'Running LuckLab AI...', step: 3, duration: 3000 },
                { width: 80, text: 'Calculating EV...', step: 4, duration: 1500 },
                { width: 95, text: 'Generating prediction...', step: 5, duration: 1000 }
            ];
            
            let currentStage = 0;
            
            function updateStage() {
                if (currentStage >= stages.length) return;
                
                const stage = stages[currentStage];
                
                // Update progress bar
                progressBar.style.width = stage.width + '%';
                stageText.textContent = stage.text;
                
                // Update step visual
                const stepEl = document.getElementById('step' + stage.step);
                if (stepEl) {
                    stepEl.style.opacity = '1';
                    stepEl.querySelector('i').className = 'fas fa-circle-notch fa-spin text-primary mr-2';
                    stepEl.querySelector('span').className = 'text-light font-weight-bold';
                    
                    // Mark previous steps as complete
                    for (let i = 1; i < stage.step; i++) {
                        const prevStep = document.getElementById('step' + i);
                        if (prevStep) {
                            prevStep.querySelector('i').className = 'fas fa-check-circle text-success mr-2';
                        }
                    }
                }
                
                currentStage++;
                
                if (currentStage < stages.length) {
                    setTimeout(updateStage, stage.duration);
                }
            }
            
            // Start animation
            setTimeout(updateStage, 500);
        }
    </script>
    
    <script>
        // Best EV Pick Functions (legacy - can remove later)
        async function getBestEVPick(sport = 'nfl') {
            const container = document.getElementById('best-ev-prediction');
            
            container.innerHTML = `
                <div class="text-center py-5">
                    <div class="spinner-border text-primary" role="status" style="width: 4rem; height: 4rem;">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <p class="mt-4 text-light" style="font-size: 1.2rem;">
                        <i class="fas fa-brain mr-2"></i>
                        AI Bot analyzing all ${sport.toUpperCase()} games...
                    </p>
                    <p class="text-muted">Finding the pick with highest Expected Value...</p>
                </div>
            `;
            
            try {
                const response = await fetch(`http://localhost:5002/api/best-ev/${sport}`);
                const prediction = await response.json();
                
                if (prediction.error) {
                    container.innerHTML = `
                        <div class="text-center py-5">
                            <i class="fas fa-exclamation-circle text-warning" style="font-size: 3rem;"></i>
                            <p class="mt-3 text-light">${prediction.error}</p>
                            <small class="text-muted">Make sure the AI Bot Predictor server is running</small>
                        </div>
                    `;
                    return;
                }
                
                displayBestEVPick(prediction);
                
            } catch (error) {
                container.innerHTML = `
                    <div class="text-center py-5">
                        <i class="fas fa-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
                        <p class="mt-3 text-light">Could not connect to AI Bot Predictor</p>
                        <small class="text-muted">Make sure to run: python backend/chatgpt_predictor.py</small>
                    </div>
                `;
            }
        }
        
        function displayBestEVPick(prediction) {
            const container = document.getElementById('best-ev-prediction');
            
            const gameDetails = prediction.game_details;
            
            const html = `
                <div class="best-ev-card p-4 rounded animate__animated animate__fadeIn" 
                     style="background: #1a1a1a; border: 3px solid #00ff88; box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);">
                    
                    <div class="text-center mb-4">
                        <h3 class="text-success mb-2">
                            <i class="fas fa-trophy text-primary mr-2"></i>
                            BEST EXPECTED VALUE PICK
                        </h3>
                        <div class="ev-badge">
                            <span class="badge badge-success badge-lg px-4 py-2" style="font-size: 1.3rem;">
                                Expected Value: ${prediction.expected_value}
                            </span>
                        </div>
                    </div>
                    
                    ${gameDetails ? `
                        <div class="game-display mb-4 p-4 rounded" style="background: rgba(0, 255, 136, 0.05);">
                            <h4 class="text-light text-center mb-4">${prediction.best_ev_pick}</h4>
                            <div class="d-flex justify-content-around align-items-center">
                                <div class="team-display text-center">
                                    <img src="${gameDetails.away_team.logo}" alt="${gameDetails.away_team.name}" 
                                         style="width: 80px; height: 80px;">
                                    <p class="text-light mt-2 mb-0">${gameDetails.away_team.name}</p>
                                    <small class="text-muted">${gameDetails.away_team.record}</small>
                                </div>
                                <div class="vs-display">
                                    <h2 class="text-primary mb-0">VS</h2>
                                </div>
                                <div class="team-display text-center">
                                    <img src="${gameDetails.home_team.logo}" alt="${gameDetails.home_team.name}" 
                                         style="width: 80px; height: 80px;">
                                    <p class="text-light mt-2 mb-0">${gameDetails.home_team.name}</p>
                                    <small class="text-muted">${gameDetails.home_team.record}</small>
                                </div>
                            </div>
                        </div>
                    ` : `
                        <h4 class="text-light text-center mb-4">${prediction.best_ev_pick}</h4>
                    `}
                    
                    <div class="pick-recommendation p-4 mb-4 text-center rounded" style="background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);">
                        <h2 class="text-dark mb-2">
                            <i class="fas fa-check-circle mr-2"></i>
                            ${prediction.pick}
                        </h2>
                        <div class="d-flex justify-content-center mt-3">
                            <div class="mx-3">
                                <p class="text-dark mb-0 small">Confidence</p>
                                <h4 class="text-dark mb-0">${prediction.confidence}</h4>
                            </div>
                            <div class="mx-3">
                                <p class="text-dark mb-0 small">Expected Value</p>
                                <h4 class="text-dark mb-0">${prediction.expected_value}</h4>
                            </div>
                        </div>
                    </div>
                    
                    <div class="reasoning-section p-4 mb-3 rounded" style="background: rgba(0, 0, 0, 0.3); border-left: 4px solid #00ff88;">
                        <h5 class="text-primary mb-3">
                            <i class="fas fa-brain mr-2"></i>
                            AI Bot Analysis:
                        </h5>
                        <p class="text-light" style="font-size: 1.1rem; line-height: 1.6;">
                            ${prediction.reasoning}
                        </p>
                    </div>
                    
                    <div class="key-factors p-4 rounded" style="background: rgba(0, 255, 136, 0.05);">
                        <h5 class="text-success mb-3">
                            <i class="fas fa-key mr-2"></i>
                            Key Factors:
                        </h5>
                        <ul class="text-light mb-0" style="list-style: none; padding-left: 0;">
                            ${prediction.key_factors.map(factor => `
                                <li class="mb-2">
                                    <i class="fas fa-check-circle text-success mr-2"></i>
                                    ${factor}
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    <div class="text-center mt-4 pt-3 border-top" style="border-color: rgba(0, 255, 136, 0.2) !important;">
                        <small class="text-muted">
                            <img src="img/lucklab-logo.png" alt="LuckLab" style="height: 25px; width: auto; vertical-align: middle;" class="mr-2">
                            Generated by LuckLab AI Bot Predictor | Powered by NeuroGest AI
                        </small>
                    </div>
                </div>
            `;
        }
        
        // Auto-load NFL best EV pick on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to let other scripts load
            setTimeout(() => getBestEVPick('nfl'), 1000);
        });
        
        // ===========================================
        // WIN SUBMISSION SYSTEM
        // ===========================================
        
        function openWinSubmission() {
            console.log('âœ… openWinSubmission called');
            console.log('currentUser:', typeof currentUser !== 'undefined' ? currentUser : 'UNDEFINED');
            
            // For testing, allow submission even without login
            const user = (typeof currentUser !== 'undefined' && currentUser) ? currentUser : {
                name: 'Guest User',
                email: 'guest@lucklab.ai',
                membershipTier: 'free'
            };
            
            console.log('Using user:', user.name);
            
            const modalHTML = `
                <div id="winSubmissionModal" style="
                    display: block;
                    position: fixed;
                    z-index: 99999;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgba(0,0,0,0.9);
                    opacity: 0;
                    transition: opacity 0.3s ease;
                ">
                    <div style="
                        position: relative;
                        background: #000;
                        margin: 3% auto;
                        padding: 0;
                        border: 3px solid #FFD700;
                        border-radius: 20px;
                        width: 90%;
                        max-width: 700px;
                        max-height: 90vh;
                        overflow-y: auto;
                        box-shadow: 0 20px 60px rgba(255,215,0,0.5);
                    ">
                        <div style="padding: 25px; border-bottom: 2px solid #FFD700; display: flex; justify-content: space-between; align-items: center;">
                            <h5 style="color: #FFD700; font-weight: 900; margin: 0;">
                                <i class="fas fa-trophy" style="margin-right: 10px;"></i>Submit Your Winning Ticket
                            </h5>
                            <button onclick="closeWinSubmissionModal()" style="
                                background: none;
                                border: none;
                                color: #fff;
                                font-size: 2rem;
                                cursor: pointer;
                                padding: 0;
                                width: 40px;
                                height: 40px;
                            ">&times;</button>
                        </div>
                        <div style="padding: 30px;">
                            <div class="alert alert-success" style="background: rgba(0,255,136,0.1); border: 1px solid #00ff88;">
                                <i class="fas fa-info-circle mr-2"></i>
                                <strong>How it works:</strong> Upload a screenshot of your winning bet slip showing:
                                <ul style="margin-top: 10px; margin-bottom: 0;">
                                    <li>The pick(s) came from LuckLab AI</li>
                                    <li>Your total winnings</li>
                                    <li>Bet confirmation/payout</li>
                                </ul>
                            </div>
                            
                            <form id="winSubmissionForm" onsubmit="submitWinningTicket(event); return false;">
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Your Name/Username:</label>
                                    <input type="text" id="winnerName" value="${user.name || ''}" class="form-control" required style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;">
                                </div>
                                
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Total Profit Amount:</label>
                                    <input type="number" id="winAmount" placeholder="e.g., 5000" class="form-control" required style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;">
                                    <small style="color: #999;">Enter amount in dollars (no symbols)</small>
                                </div>
                                
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Which Pick(s) Won:</label>
                                    <textarea id="winningPicks" placeholder="e.g., Chiefs -3.5, Lakers Over 220.5" class="form-control" rows="3" required style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;"></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Upload Screenshot:</label>
                                    <input type="file" id="winScreenshot" accept="image/*" class="form-control" required style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;">
                                    <small style="color: #999;">Max 5MB - JPG, PNG, or WEBP</small>
                                </div>
                                
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Twitter Handle (Optional):</label>
                                    <input type="text" id="winnerTwitter" placeholder="@YourHandle" class="form-control" style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;">
                                </div>
                                
                                <div class="form-group">
                                    <label style="color: #fff; font-weight: 600;">Instagram Handle (Optional):</label>
                                    <input type="text" id="winnerInstagram" placeholder="@YourHandle" class="form-control" style="background: #0a0a0a; color: #fff; border: 2px solid #FFD700;">
                                </div>
                                
                                <button type="submit" style="
                                    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
                                    color: #000;
                                    border: none;
                                    padding: 15px 40px;
                                    border-radius: 25px;
                                    font-weight: 900;
                                    font-size: 1.1rem;
                                    width: 100%;
                                    cursor: pointer;
                                    box-shadow: 0 6px 25px rgba(255,215,0,0.5);
                                " onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
                                    <i class="fas fa-paper-plane mr-2"></i>SUBMIT FOR VERIFICATION
                                </button>
                            </form>
                            
                            <div class="alert alert-warning mt-3" style="background: rgba(255,193,7,0.1); border: 1px solid #ffc107;">
                                <i class="fas fa-exclamation-triangle mr-2"></i>
                                <strong>Note:</strong> All submissions are reviewed by our admin team. Approved winners will be featured on the leaderboard!
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Remove existing modal if present
            const existing = document.getElementById('winSubmissionModal');
            if (existing) existing.remove();
            
            // Add modal to page
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // Fade in
            setTimeout(() => {
                const modal = document.getElementById('winSubmissionModal');
                if (modal) modal.style.opacity = '1';
            }, 10);
            
            // Close on background click
            document.getElementById('winSubmissionModal').addEventListener('click', function(e) {
                if (e.target.id === 'winSubmissionModal') {
                    closeWinSubmissionModal();
                }
            });
        }
        
        function closeWinSubmissionModal() {
            const modal = document.getElementById('winSubmissionModal');
            if (modal) {
                modal.style.opacity = '0';
                setTimeout(() => modal.remove(), 300);
            }
        }
        
        async function submitWinningTicket(event) {
            event.preventDefault();
            
            const name = document.getElementById('winnerName').value;
            const amount = document.getElementById('winAmount').value;
            const picks = document.getElementById('winningPicks').value;
            const screenshot = document.getElementById('winScreenshot').files[0];
            const twitter = document.getElementById('winnerTwitter').value;
            const instagram = document.getElementById('winnerInstagram').value;
            
            if (!screenshot) {
                alert('Please upload a screenshot!');
                return;
            }
            
            // Show uploading message
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Uploading...';
            submitBtn.disabled = true;
            
            // Convert image to base64
            const reader = new FileReader();
            reader.onload = async function(e) {
                const submission = {
                    timestamp: new Date().toISOString(),
                    date: new Date().toDateString(),
                    user: name,
                    email: currentUser.email,
                    tier: currentUser.membershipTier || 'free',
                    amount: parseFloat(amount),
                    picks: picks,
                    twitter: twitter,
                    instagram: instagram,
                    screenshot: e.target.result, // Base64 image
                    status: 'pending',
                    verified: false
                };
                
                // Save to localStorage for admin review
                let submissions = JSON.parse(localStorage.getItem('winSubmissions')) || [];
                submissions.push(submission);
                localStorage.setItem('winSubmissions', JSON.stringify(submissions));
                
                // Also try to send to backend
                try {
                    await fetch('http://localhost:5002/api/submit-win', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(submission)
                    });
                    console.log('âœ… Win submission sent to backend');
                } catch (e) {
                    console.log('âš ï¸ Backend not available, submission saved locally');
                }
                
                alert('âœ… Submission received! Our team will review your winning ticket within 24 hours.\n\nIf approved, you\'ll appear on the Top 3 leaderboard!');
                closeWinSubmissionModal();
            };
            
            reader.readAsDataURL(screenshot);
        }
        
        // ===========================================
        // ADMIN ALERT SYSTEM
        // ===========================================
        
        async function logAdminAlert(alertData) {
            try {
                const response = await fetch('http://localhost:5002/api/log-admin-alert', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(alertData)
                });
                
                if (response.ok) {
                    console.log('âœ… Admin alert logged:', alertData);
                } else {
                    console.warn('âš ï¸ Failed to log admin alert');
                }
            } catch (error) {
                console.warn('âš ï¸ Admin alert logging failed (server may be offline):', error);
            }
        }
        
        // ===========================================
        // PREDICTION MODE SWITCHER
        // ===========================================
        
        function switchPredictionMode(mode) {
            console.log('Switching to mode:', mode);
            
            const singlePickSection = document.getElementById('singlePickSection');
            const parlaySection = document.getElementById('parlaySection');
            const singlePickBtn = document.getElementById('singlePickMode');
            const parlayBtn = document.getElementById('parlayMode');
            
            if (mode === 'single') {
                // Show single pick, hide parlay
                singlePickSection.style.display = 'block';
                parlaySection.style.display = 'none';
                
                // Update button styles
                singlePickBtn.style.background = 'linear-gradient(135deg, #00ff88 0%, #00cc66 100%)';
                singlePickBtn.style.color = '#000';
                singlePickBtn.style.border = 'none';
                
                parlayBtn.style.background = 'rgba(153,102,255,0.1)';
                parlayBtn.style.color = '#9966ff';
                parlayBtn.style.border = '2px solid #9966ff';
            } else {
                // Show parlay, hide single pick
                singlePickSection.style.display = 'none';
                parlaySection.style.display = 'block';
                
                // Update button styles
                parlayBtn.style.background = 'linear-gradient(135deg, #9966ff 0%, #7744ff 100%)';
                parlayBtn.style.color = '#fff';
                parlayBtn.style.border = 'none';
                
                singlePickBtn.style.background = 'rgba(0,255,136,0.1)';
                singlePickBtn.style.color = '#00ff88';
                singlePickBtn.style.border = '2px solid #00ff88';
            }
        }
        
        // ===========================================
        // PARLAY MODE SWITCHER (AI vs Manual)
        // ===========================================
        
        function switchParlayMode(mode) {
            console.log('Switching parlay mode to:', mode);
            
            const aiSection = document.getElementById('aiParlaySection');
            const manualSection = document.getElementById('manualParlaySection');
            const aiBtn = document.getElementById('aiParlayMode');
            const manualBtn = document.getElementById('manualParlayMode');
            const parlayDisplay = document.getElementById('parlayDisplay');
            
            // Hide previous results
            parlayDisplay.style.display = 'none';
            
            if (mode === 'ai') {
                aiSection.style.display = 'block';
                manualSection.style.display = 'none';
                
                aiBtn.style.background = 'linear-gradient(135deg, #9966ff 0%, #7744ff 100%)';
                aiBtn.style.color = '#fff';
                aiBtn.style.border = 'none';
                
                manualBtn.style.background = 'rgba(153,102,255,0.1)';
                manualBtn.style.color = '#9966ff';
                manualBtn.style.border = '2px solid #9966ff';
            } else {
                aiSection.style.display = 'none';
                manualSection.style.display = 'block';
                
                manualBtn.style.background = 'linear-gradient(135deg, #9966ff 0%, #7744ff 100%)';
                manualBtn.style.color = '#fff';
                manualBtn.style.border = 'none';
                
                aiBtn.style.background = 'rgba(153,102,255,0.1)';
                aiBtn.style.color = '#9966ff';
                aiBtn.style.border = '2px solid #9966ff';
                
                // Initialize with 2 legs if empty
                const manualLegsContainer = document.getElementById('manualParlayLegs');
                if (manualLegsContainer.children.length === 0) {
                    addManualParlayLeg();
                    addManualParlayLeg();
                }
            }
        }
        
        // ===========================================
        // MANUAL PARLAY BUILDER
        // ===========================================
        
        let manualParlayLegCount = 0;
        let allGamesCache = {}; // Cache games by sport
        
        async function addManualParlayLeg() {
            manualParlayLegCount++;
            const legId = manualParlayLegCount;
            
            const container = document.getElementById('manualParlayLegs');
            
            const legHTML = `
                <div id="parlayLeg${legId}" class="parlay-leg-card mb-3" style="
                    background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
                    border: 2px solid #9966ff;
                    border-radius: 15px;
                    padding: 20px;
                    position: relative;
                ">
                    <button onclick="removeManualParlayLeg(${legId})" style="
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: rgba(255,0,0,0.2);
                        border: 1px solid #ff0000;
                        color: #ff0000;
                        border-radius: 50%;
                        width: 30px;
                        height: 30px;
                        cursor: pointer;
                        font-weight: 700;
                    " title="Remove this leg">Ã—</button>
                    
                    <h6 style="color: #9966ff; font-weight: 700; margin-bottom: 15px;">
                        <i class="fas fa-dice-d6 mr-2"></i>LEG ${legId}
                    </h6>
                    
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <label style="color: #fff; font-size: 0.9rem; font-weight: 600;">Sport</label>
                            <select id="leg${legId}Sport" class="form-control" onchange="loadGamesForManualLeg(${legId})" style="background: #000; color: #fff; border: 1px solid #9966ff;">
                                <option value="">Select Sport</option>
                                <option value="nfl">ðŸˆ NFL</option>
                                <option value="nba">ðŸ€ NBA</option>
                                <option value="mlb">âš¾ MLB</option>
                                <option value="nhl">ðŸ’ NHL</option>
                                <option value="ncaaf">ðŸˆ CFB</option>
                                <option value="ncaab">ðŸ€ CBB</option>
                            </select>
                        </div>
                        <div class="col-md-5 mb-3">
                            <label style="color: #fff; font-size: 0.9rem; font-weight: 600;">Game</label>
                            <select id="leg${legId}Game" class="form-control" onchange="updateManualParlayButton()" style="background: #000; color: #fff; border: 1px solid #9966ff;">
                                <option value="">Select sport first</option>
                            </select>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label style="color: #fff; font-size: 0.9rem; font-weight: 600;">Bet Type</label>
                            <select id="leg${legId}BetType" class="form-control" onchange="updateManualParlayButton()" style="background: #000; color: #fff; border: 1px solid #9966ff;">
                                <option value="">Select Type</option>
                                <option value="spread">ðŸ“Š Spread</option>
                                <option value="moneyline">ðŸ’° Moneyline</option>
                                <option value="overunder">ðŸ“ˆ Over/Under</option>
                            </select>
                        </div>
                    </div>
                </div>
            `;
            
            container.insertAdjacentHTML('beforeend', legHTML);
            updateManualParlayButton();
        }
        
        function removeManualParlayLeg(legId) {
            const legElement = document.getElementById(`parlayLeg${legId}`);
            if (legElement) {
                legElement.remove();
            }
            updateManualParlayButton();
        }
        
        async function loadGamesForManualLeg(legId) {
            const sportSelect = document.getElementById(`leg${legId}Sport`);
            const gameSelect = document.getElementById(`leg${legId}Game`);
            const sport = sportSelect.value;
            
            if (!sport) {
                gameSelect.innerHTML = '<option value="">Select sport first</option>';
                return;
            }
            
            gameSelect.innerHTML = '<option value="">Loading games...</option>';
            
            try {
                // Check cache first
                if (!allGamesCache[sport]) {
                    const response = await fetch(`http://localhost:5002/api/upcoming-games/${sport}`);
                    const data = await response.json();
                    allGamesCache[sport] = data.games || [];
                }
                
                const games = allGamesCache[sport];
                
                if (games.length === 0) {
                    gameSelect.innerHTML = '<option value="">No games available</option>';
                    return;
                }
                
                gameSelect.innerHTML = '<option value="">Select game</option>';
                games.forEach((game, index) => {
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = game.name;
                    gameSelect.appendChild(option);
                });
                
            } catch (error) {
                console.error('Error loading games:', error);
                gameSelect.innerHTML = '<option value="">Error loading games</option>';
            }
        }
        
        function updateManualParlayButton() {
            const container = document.getElementById('manualParlayLegs');
            const legs = container.querySelectorAll('.parlay-leg-card');
            let validLegs = 0;
            
            legs.forEach(leg => {
                const legId = leg.id.replace('parlayLeg', '');
                const sport = document.getElementById(`leg${legId}Sport`)?.value;
                const game = document.getElementById(`leg${legId}Game`)?.value;
                const betType = document.getElementById(`leg${legId}BetType`)?.value;
                
                if (sport && game && betType) {
                    validLegs++;
                }
            });
            
            const buildBtn = document.getElementById('buildParlayBtn');
            if (validLegs >= 2) {
                buildBtn.disabled = false;
                buildBtn.style.opacity = '1';
            } else {
                buildBtn.disabled = true;
                buildBtn.style.opacity = '0.5';
            }
        }
        
        async function buildManualParlay() {
            console.log('ðŸ”¨ Building manual parlay...');
            
            // Collect all legs
            const container = document.getElementById('manualParlayLegs');
            const legs = container.querySelectorAll('.parlay-leg-card');
            const parlayLegs = [];
            
            for (const leg of legs) {
                const legId = leg.id.replace('parlayLeg', '');
                const sport = document.getElementById(`leg${legId}Sport`)?.value;
                const gameIndex = document.getElementById(`leg${legId}Game`)?.value;
                const betType = document.getElementById(`leg${legId}BetType`)?.value;
                
                if (sport && gameIndex && betType) {
                    const game = allGamesCache[sport][gameIndex];
                    parlayLegs.push({
                        sport: sport,
                        game: game,
                        betType: betType
                    });
                }
            }
            
            if (parlayLegs.length < 2) {
                alert('Please select at least 2 complete legs for your parlay');
                return;
            }
            
            // Show loading
            const parlayDisplay = document.getElementById('parlayDisplay');
            parlayDisplay.style.display = 'block';
            parlayDisplay.innerHTML = `
                <div class="text-center py-5">
                    <div class="spinner-border" style="color: #9966ff; width: 4rem; height: 4rem;" role="status"></div>
                    <h4 style="color: #fff; margin-top: 20px;">AI Analyzing Your Parlay...</h4>
                    <p style="color: #999;">Generating picks for your ${parlayLegs.length}-leg custom parlay</p>
                </div>
            `;
            
            try {
                // Generate AI picks for each leg
                const analyzedLegs = [];
                
                for (let i = 0; i < parlayLegs.length; i++) {
                    const leg = parlayLegs[i];
                    
                    parlayDisplay.innerHTML = `
                        <div class="text-center py-5">
                            <div class="spinner-border" style="color: #9966ff; width: 4rem; height: 4rem;" role="status"></div>
                            <h4 style="color: #fff; margin-top: 20px;">Analyzing Leg ${i + 1} of ${parlayLegs.length}...</h4>
                            <p style="color: #999;">${leg.game.name} - ${leg.betType}</p>
                        </div>
                    `;
                    
                    const response = await fetch('http://localhost:5002/api/analyze-game', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            sport: leg.sport,
                            game: leg.game,
                            bet_type: leg.betType
                        })
                    });
                    
                    const prediction = await response.json();
                    
                    analyzedLegs.push({
                        game: leg.game.name,
                        pick: prediction.pick || 'Analysis pending',
                        odds: prediction.odds || '-150',
                        confidence: prediction.confidence || 'N/A'
                    });
                }
                
                // Display the completed parlay
                const parlayResult = {
                    parlay_type: `${analyzedLegs.length}-Leg Custom Parlay`,
                    legs: analyzedLegs,
                    combined_odds: calculateCombinedOdds(analyzedLegs),
                    confidence: '80%',
                    reasoning: 'This is your custom parlay selection. Our AI has analyzed each leg and provided picks based on current data and trends.',
                    key_factors: [
                        'Custom selection based on your game choices',
                        'AI-analyzed for optimal betting strategy',
                        'Odds estimated based on current market conditions'
                    ]
                };
                
                displayManualParlay(parlayResult);
                
                // LOG ADMIN ALERT FOR PARLAY
                logAdminAlert({
                    user: currentUser?.name || 'Guest',
                    email: currentUser?.email || 'guest@lucklab.ai',
                    tier: currentUser?.membershipTier || 'free',
                    pick_type: 'parlay',
                    sport: 'Multi-Sport',
                    game: analyzedLegs.map(l => l.game).join(' | '),
                    bet_type: `${analyzedLegs.length}-Leg Parlay`,
                    pick: analyzedLegs.map(l => l.pick).join(' + '),
                    confidence: '80%'
                });
                
            } catch (error) {
                console.error('Error building manual parlay:', error);
                parlayDisplay.innerHTML = `
                    <div class="alert alert-danger">
                        <strong>âŒ Error:</strong> Could not analyze your parlay. Make sure the AI Predictor server is running.
                    </div>
                `;
            }
        }
        
        function calculateCombinedOdds(legs) {
            // Simple combined odds calculation (American odds to decimal to combined)
            let combinedDecimal = 1;
            
            legs.forEach(leg => {
                const odds = parseInt(leg.odds);
                let decimal;
                
                if (odds > 0) {
                    decimal = (odds / 100) + 1;
                } else {
                    decimal = (100 / Math.abs(odds)) + 1;
                }
                
                combinedDecimal *= decimal;
            });
            
            // Convert back to American odds
            const americanOdds = (combinedDecimal - 1) * 100;
            return '+' + Math.round(americanOdds);
        }
        
        function displayManualParlay(parlay) {
            // Calculate potential payout
            const odds = parseInt(parlay.combined_odds);
            const payout = 100 * (odds / 100);
            parlay.potential_payout = `$${(100 + payout).toFixed(2)}`;
            parlay.recommended_stake = '$50-$100';
            
            // Use the same display function as AI parlay
            displayParlay(parlay);
        }
        
        // ===========================================
        // AI PARLAY GENERATOR
        // ===========================================
        
        async function generateAIParlay() {
            console.log('ðŸŽ² Generating AI Parlay...');
            
            // Get selected options
            const numLegs = parseInt(document.getElementById('parlayLegs').value);
            const selectedSports = [];
            
            if (document.getElementById('parlayNFL') && document.getElementById('parlayNFL').checked) selectedSports.push('nfl');
            if (document.getElementById('parlayNBA') && document.getElementById('parlayNBA').checked) selectedSports.push('nba');
            if (document.getElementById('parlayMLB') && document.getElementById('parlayMLB').checked) selectedSports.push('mlb');
            if (document.getElementById('parlayNHL') && document.getElementById('parlayNHL').checked) selectedSports.push('nhl');
            if (document.getElementById('parlayNCAAF') && document.getElementById('parlayNCAAF').checked) selectedSports.push('ncaaf');
            if (document.getElementById('parlayNCAAB') && document.getElementById('parlayNCAAB').checked) selectedSports.push('ncaab');
            
            if (selectedSports.length === 0) {
                alert('Please select at least one sport!');
                return;
            }
            
            // Show loading
            const parlayDisplay = document.getElementById('parlayDisplay');
            parlayDisplay.style.display = 'block';
            parlayDisplay.innerHTML = `
                <div class="text-center py-5">
                    <div class="spinner-border" style="color: #9966ff; width: 4rem; height: 4rem;" role="status"></div>
                    <h4 style="color: #fff; margin-top: 20px;">AI Analyzing Games...</h4>
                    <p style="color: #999;">Creating your ${numLegs}-leg parlay with favorable odds</p>
                </div>
            `;
            
            try {
                console.log('ðŸ“¡ Sending request to AI Predictor...');
                const response = await fetch('http://localhost:5002/api/generate-parlay', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        sports: selectedSports,
                        num_legs: numLegs
                    })
                });
                
                console.log('ðŸ“¥ Response status:', response.status);
                const parlay = await response.json();
                console.log('ðŸ“Š Parlay response:', parlay);
                
                if (parlay.error) {
                    console.error('âŒ Server error:', parlay.error);
                    parlayDisplay.innerHTML = `
                        <div class="alert alert-warning">
                            <strong>âš ï¸ Error:</strong> ${parlay.error}
                        </div>
                    `;
                    return;
                }
                
                if (!parlay.legs || parlay.legs.length === 0) {
                    console.error('âŒ No parlay legs received');
                    parlayDisplay.innerHTML = `
                        <div class="alert alert-warning">
                            <strong>âš ï¸ Error:</strong> No parlay picks generated
                        </div>
                    `;
                    return;
                }
                
                console.log('âœ… Parlay generated successfully:', parlay.legs.length, 'legs');
                
                // Display parlay
                displayParlay(parlay);
                
                // LOG ADMIN ALERT FOR AI PARLAY
                logAdminAlert({
                    user: currentUser?.name || 'Guest',
                    email: currentUser?.email || 'guest@lucklab.ai',
                    tier: currentUser?.membershipTier || 'free',
                    pick_type: 'ai_parlay',
                    sport: selectedSports.join(', ').toUpperCase(),
                    game: parlay.legs.map(l => l.game).join(' | '),
                    bet_type: `${parlay.legs.length}-Leg AI Parlay`,
                    pick: parlay.legs.map(l => l.pick).join(' + '),
                    confidence: parlay.confidence
                });
                
            } catch (error) {
                console.error('Error generating parlay:', error);
                parlayDisplay.innerHTML = `
                    <div class="alert alert-danger">
                        <strong>âŒ Error:</strong> Could not connect to AI Predictor. Make sure the server is running.
                    </div>
                `;
            }
        }
        
        function displayParlay(parlay) {
            // Store parlay globally so "Add to Bet Slip" can access it
            lastDisplayedParlay = parlay;
            
            const parlayDisplay = document.getElementById('parlayDisplay');
            
            // Validate parlay data
            if (!parlay || !parlay.legs || !Array.isArray(parlay.legs)) {
                console.error('âŒ Invalid parlay data:', parlay);
                parlayDisplay.innerHTML = `
                    <div class="alert alert-danger">
                        <strong>âŒ Error:</strong> Invalid parlay data received from server
                    </div>
                `;
                return;
            }
            
            console.log('âœ… Displaying parlay with', parlay.legs.length, 'legs');
            
            let legsHTML = parlay.legs.map((leg, index) => `
                <div style="
                    background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
                    border-left: 4px solid #9966ff;
                    padding: 20px;
                    margin-bottom: 15px;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(153,102,255,0.2);
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="flex: 1;">
                            <div style="color: #9966ff; font-weight: 700; font-size: 0.9rem; margin-bottom: 5px;">
                                LEG ${index + 1}
                            </div>
                            <h5 style="color: #fff; font-weight: 700; margin-bottom: 8px;">${leg.game}</h5>
                            <p style="color: #00ff88; font-size: 1.1rem; font-weight: 700; margin-bottom: 0;">
                                ${leg.pick}
                            </p>
                        </div>
                        <div style="text-align: right;">
                            <div style="
                                background: rgba(153,102,255,0.2);
                                color: #9966ff;
                                padding: 8px 20px;
                                border-radius: 20px;
                                font-weight: 900;
                                font-size: 1.1rem;
                            ">
                                ${leg.odds}
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            
            parlayDisplay.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
                    border: 3px solid #9966ff;
                    border-radius: 20px;
                    padding: 30px;
                    box-shadow: 0 15px 50px rgba(153,102,255,0.4);
                ">
                    <div class="text-center mb-4">
                        <h3 style="color: #9966ff; font-weight: 900; margin-bottom: 10px;">
                            <i class="fas fa-layer-group" style="margin-right: 10px;"></i>
                            ${parlay.parlay_type}
                        </h3>
                        <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px;">
                            <div>
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Combined Odds</div>
                                <div style="color: #00ff88; font-size: 2rem; font-weight: 900;">${parlay.combined_odds}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Potential Payout</div>
                                <div style="color: #FFD700; font-size: 2rem; font-weight: 900;">${parlay.potential_payout}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Confidence</div>
                                <div style="color: #9966ff; font-size: 2rem; font-weight: 900;">${parlay.confidence}</div>
                            </div>
                            <div>
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Risk Level</div>
                                <div style="color: ${parlay.risk_level === 'Low' ? '#00ff88' : parlay.risk_level === 'Moderate' ? '#ffaa00' : '#ff4444'}; font-size: 1.5rem; font-weight: 900;">${parlay.risk_level || 'Moderate'}</div>
                            </div>
                        </div>
                    </div>
                    
                    <hr style="border-color: rgba(153,102,255,0.3); margin: 30px 0;">
                    
                    <h5 style="color: #fff; font-weight: 700; margin-bottom: 20px;">
                        <i class="fas fa-list-check" style="color: #9966ff; margin-right: 10px;"></i>
                        Parlay Legs
                    </h5>
                    ${legsHTML}
                    
                    <hr style="border-color: rgba(153,102,255,0.3); margin: 30px 0;">
                    
                    <div style="margin-bottom: 25px;">
                        <h6 style="color: #fff; font-weight: 700; margin-bottom: 15px;">
                            <i class="fas fa-brain" style="color: #9966ff; margin-right: 8px;"></i>
                            AI Analysis
                        </h6>
                        <p style="color: #b0b3b8; line-height: 1.8;">${parlay.reasoning}</p>
                    </div>
                    
                    <div style="margin-bottom: 25px;">
                        <h6 style="color: #fff; font-weight: 700; margin-bottom: 15px;">
                            <i class="fas fa-key" style="color: #9966ff; margin-right: 8px;"></i>
                            Key Factors
                        </h6>
                        <ul style="color: #b0b3b8; line-height: 1.8;">
                            ${(parlay.key_factors || []).map(factor => `<li>${factor}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div style="
                        background: rgba(153,102,255,0.1);
                        border: 2px solid #9966ff;
                        border-radius: 15px;
                        padding: 20px;
                        margin-bottom: 20px;
                    ">
                        <div class="row text-center">
                            <div class="col-md-6">
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Recommended Stake</div>
                                <div style="color: #fff; font-size: 1.3rem; font-weight: 700;">${parlay.recommended_stake}</div>
                            </div>
                            <div class="col-md-6">
                                <div style="color: #999; font-size: 0.9rem; margin-bottom: 5px;">Risk Level</div>
                                <div style="color: #FFD700; font-size: 1.3rem; font-weight: 700;">Moderate</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="addParlayToBetSlip()" style="
                            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
                            color: #fff;
                            border: none;
                            padding: 15px 50px;
                            border-radius: 30px;
                            font-weight: 900;
                            font-size: 1.1rem;
                            box-shadow: 0 6px 25px rgba(255,0,0,0.5);
                            cursor: pointer;
                            letter-spacing: 1px;
                            margin-right: 15px;
                        " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 8px 35px rgba(255,0,0,0.7)'" 
                           onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 6px 25px rgba(255,0,0,0.5)'">
                            <i class="fas fa-ticket-alt" style="margin-right: 10px;"></i>EXPORT TO SPORTSBOOK
                        </button>
                        <button onclick="generateAIParlay()" style="
                            background: rgba(153,102,255,0.2);
                            color: #9966ff;
                            border: 2px solid #9966ff;
                            padding: 15px 40px;
                            border-radius: 30px;
                            font-weight: 700;
                            font-size: 1.1rem;
                            cursor: pointer;
                            letter-spacing: 1px;
                        " onmouseover="this.style.background='rgba(153,102,255,0.3)'" onmouseout="this.style.background='rgba(153,102,255,0.2)'">
                            <i class="fas fa-redo" style="margin-right: 10px;"></i>GENERATE NEW
                        </button>
                    </div>
                </div>
            `;
        }
        
        // Store the last displayed parlay globally
        let lastDisplayedParlay = null;
        
        function addParlayToBetSlip() {
            if (lastDisplayedParlay) {
                // Use the sportsbook export system (skip purchase check for generated parlays)
                openInSportsbook(lastDisplayedParlay, 'hardrock', true);
            } else {
                alert('Please generate a parlay first!');
            }
        }
        
        // ===========================================
        // MEMBERSHIP DURATION SELECTOR
        // ===========================================
        
        function selectMembershipDuration(planKey) {
            const plan = MEMBERSHIP_PLANS[planKey];
            
            // Remove any existing modal
            const existingModal = document.getElementById('customDurationModal');
            if (existingModal) existingModal.remove();
            
            const modalHTML = `
                <div id="customDurationModal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0, 0, 0, 0.95);
                    z-index: 99999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    animation: fadeIn 0.3s ease;
                ">
                    <div style="
                        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
                        border: 3px solid ${plan.color};
                        border-radius: 25px;
                        padding: 40px;
                        max-width: 600px;
                        width: 90%;
                        max-height: 90vh;
                        overflow-y: auto;
                        box-shadow: 0 20px 60px rgba(0,0,0,0.8);
                        position: relative;
                    ">
                        <button onclick="closeMembershipModal()" style="
                            position: absolute;
                            top: 15px;
                            right: 15px;
                            background: rgba(255,0,0,0.2);
                            border: 2px solid #ff0000;
                            color: #ff0000;
                            border-radius: 50%;
                            width: 40px;
                            height: 40px;
                            cursor: pointer;
                            font-size: 1.5rem;
                            font-weight: 700;
                            line-height: 1;
                            transition: all 0.3s;
                        " onmouseover="this.style.background='rgba(255,0,0,0.4)'" onmouseout="this.style.background='rgba(255,0,0,0.2)'">Ã—</button>
                        
                        <div style="text-align: center; margin-bottom: 30px;">
                            <h3 style="color: ${plan.color}; font-weight: 900; margin-bottom: 10px;">
                                <i class="fas ${plan.icon} mr-2"></i>${plan.name} Membership
                            </h3>
                            <p style="color: #fff; font-size: 1.2rem; margin-bottom: 5px;">
                                ${plan.picksPerDay} AI Picks per Day
                            </p>
                            <p style="color: #999; font-size: 0.95rem;">
                                Choose your membership duration:
                            </p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <button onclick="purchaseMembership('${planKey}', 'daily'); closeMembershipModal();" style="
                                background: linear-gradient(135deg, ${plan.color} 0%, ${plan.color}dd 100%);
                                color: ${plan.color === '#FFD700' || plan.color === '#C0C0C0' || plan.color === '#E5E4E2' ? '#000' : '#fff'};
                                border: none;
                                padding: 20px 15px;
                                border-radius: 15px;
                                font-weight: 700;
                                cursor: pointer;
                                transition: all 0.3s;
                            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                <div style="font-size: 0.9rem;">DAILY</div>
                                <div style="font-size: 1.3rem; font-weight: 900;">$${plan.pricing.daily.toFixed(2)}</div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">per day</div>
                            </button>
                            
                            <button onclick="purchaseMembership('${planKey}', 'weekly'); closeMembershipModal();" style="
                                background: linear-gradient(135deg, ${plan.color} 0%, ${plan.color}dd 100%);
                                color: ${plan.color === '#FFD700' || plan.color === '#C0C0C0' || plan.color === '#E5E4E2' ? '#000' : '#fff'};
                                border: none;
                                padding: 20px 15px;
                                border-radius: 15px;
                                font-weight: 700;
                                cursor: pointer;
                                transition: all 0.3s;
                            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                <div style="font-size: 0.9rem;">WEEKLY</div>
                                <div style="font-size: 1.3rem; font-weight: 900;">$${plan.pricing.weekly.toFixed(2)}</div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">per week</div>
                            </button>
                            
                            <button onclick="purchaseMembership('${planKey}', 'monthly'); closeMembershipModal();" style="
                                background: linear-gradient(135deg, ${plan.color} 0%, ${plan.color}dd 100%);
                                color: ${plan.color === '#FFD700' || plan.color === '#C0C0C0' || plan.color === '#E5E4E2' ? '#000' : '#fff'};
                                border: none;
                                padding: 20px 15px;
                                border-radius: 15px;
                                font-weight: 700;
                                cursor: pointer;
                                transition: all 0.3s;
                                position: relative;
                            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                <div style="font-size: 0.9rem;">MONTHLY</div>
                                <div style="font-size: 1.3rem; font-weight: 900;">$${plan.pricing.monthly.toFixed(2)}</div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">per month</div>
                                <div style="position: absolute; top: 5px; right: 5px; background: #00ff88; color: #000; padding: 2px 8px; border-radius: 10px; font-size: 0.65rem; font-weight: 900;">BEST VALUE</div>
                            </button>
                            
                            <button onclick="purchaseMembership('${planKey}', 'yearly'); closeMembershipModal();" style="
                                background: linear-gradient(135deg, ${plan.color} 0%, ${plan.color}dd 100%);
                                color: ${plan.color === '#FFD700' || plan.color === '#C0C0C0' || plan.color === '#E5E4E2' ? '#000' : '#fff'};
                                border: none;
                                padding: 20px 15px;
                                border-radius: 15px;
                                font-weight: 700;
                                cursor: pointer;
                                transition: all 0.3s;
                                position: relative;
                            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                <div style="font-size: 0.9rem;">YEARLY</div>
                                <div style="font-size: 1.3rem; font-weight: 900;">$${plan.pricing.yearly.toFixed(2)}</div>
                                <div style="font-size: 0.8rem; opacity: 0.8;">per year</div>
                                <div style="position: absolute; top: 5px; right: 5px; background: #FFD700; color: #000; padding: 2px 8px; border-radius: 10px; font-size: 0.65rem; font-weight: 900;">MAX SAVINGS</div>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Add modal to page
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // ESC key to close
            document.addEventListener('keydown', function escHandler(e) {
                if (e.key === 'Escape') {
                    closeMembershipModal();
                    document.removeEventListener('keydown', escHandler);
                }
            });
            
            // Click outside to close
            document.getElementById('customDurationModal').addEventListener('click', function(e) {
                if (e.target.id === 'customDurationModal') {
                    closeMembershipModal();
                }
            });
        }
        
        function closeMembershipModal() {
            const modal = document.getElementById('customDurationModal');
            if (modal) {
                modal.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => modal.remove(), 300);
            }
        }
        
        // Suggestions Box Function
        function submitSuggestion() {
            const suggestionsBox = document.getElementById('suggestionsBox');
            const suggestion = suggestionsBox.value.trim();
            
            if (suggestion === '') {
                alert('Please enter your feedback before submitting.');
                return;
            }
            
            if (suggestion.length < 10) {
                alert('Please provide more detailed feedback (at least 10 characters).');
                return;
            }
            
            // Store suggestion in localStorage for now (could be sent to server later)
            const suggestions = JSON.parse(localStorage.getItem('lucklab_suggestions') || '[]');
            const newSuggestion = {
                id: Date.now(),
                text: suggestion,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };
            
            suggestions.push(newSuggestion);
            localStorage.setItem('lucklab_suggestions', JSON.stringify(suggestions));
            
            // Clear the textarea and show success message
            suggestionsBox.value = '';
            
            // Show success notification
            const notification = document.createElement('div');
            notification.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%); color: #000; padding: 15px 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3); z-index: 9999; font-weight: bold;">
                    <i class="fas fa-check-circle mr-2"></i>Thank you for your feedback! We appreciate your suggestions.
                </div>
            `;
            document.body.appendChild(notification);
            
            // Remove notification after 4 seconds
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 4000);
        }
    </script>
    <script>
        // NEW CLEAN REGISTRATION MODAL
        window.openNewRegistration = function() {
            console.log('ðŸŽ¯ Opening NEW registration modal');
            
            // Remove any existing registration modal
            const existing = document.getElementById('newRegModal');
            if (existing) existing.remove();
            
            // Create modal HTML
            const modalHTML = `
                <div id="newRegModal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.95);
                    z-index: 999999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                ">
                    <div style="
                        background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
                        border: 3px solid #00ff88;
                        border-radius: 25px;
                        padding: 40px;
                        max-width: 500px;
                        width: 90%;
                        box-shadow: 0 20px 60px rgba(0,255,136,0.4);
                        position: relative;
                    ">
                        <button onclick="closeNewRegModal()" style="
                            position: absolute;
                            top: 15px;
                            right: 15px;
                            background: rgba(255,0,0,0.2);
                            border: 2px solid #ff0000;
                            color: #ff0000;
                            border-radius: 50%;
                            width: 40px;
                            height: 40px;
                            cursor: pointer;
                            font-size: 1.5rem;
                            font-weight: 700;
                            line-height: 1;
                        ">Ã—</button>
                        
                        <div style="text-align: center; margin-bottom: 30px;">
                            <i class="fas fa-user-plus" style="font-size: 3rem; color: #00ff88; margin-bottom: 15px;"></i>
                            <h3 style="color: #00ff88; font-weight: 900; margin-bottom: 10px;">Create Account</h3>
                            <p style="color: #999;">Join LuckLab AI - Get AI-powered predictions</p>
                        </div>
                        
                        <div id="newRegStep1">
                            <div style="margin-bottom: 20px;">
                                <label style="color: #00ff88; font-weight: 700; display: block; margin-bottom: 8px;">
                                    <i class="fas fa-user mr-2"></i>Display Name
                                </label>
                                <input type="text" id="newRegName" placeholder="Enter your name" style="
                                    width: 100%;
                                    padding: 12px;
                                    background: #000;
                                    border: 2px solid #00ff88;
                                    border-radius: 10px;
                                    color: #fff;
                                    font-size: 1rem;
                                ">
                            </div>
                            
                            <div style="margin-bottom: 20px;">
                                <label style="color: #00ff88; font-weight: 700; display: block; margin-bottom: 8px;">
                                    <i class="fas fa-envelope mr-2"></i>Email Address
                                </label>
                                <input type="email" id="newRegEmail" placeholder="your.email@example.com" style="
                                    width: 100%;
                                    padding: 12px;
                                    background: #000;
                                    border: 2px solid #00ff88;
                                    border-radius: 10px;
                                    color: #fff;
                                    font-size: 1rem;
                                ">
                            </div>
                            
                            <div style="margin-bottom: 25px;">
                                <label style="color: #00ff88; font-weight: 700; display: block; margin-bottom: 8px;">
                                    <i class="fas fa-lock mr-2"></i>Password
                                </label>
                                <input type="password" id="newRegPassword" placeholder="Create password (min 6 characters)" style="
                                    width: 100%;
                                    padding: 12px;
                                    background: #000;
                                    border: 2px solid #00ff88;
                                    border-radius: 10px;
                                    color: #fff;
                                    font-size: 1rem;
                                ">
                            </div>
                            
                            <button onclick="sendNewRegCode()" style="
                                width: 100%;
                                background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
                                color: #000;
                                border: none;
                                padding: 15px;
                                border-radius: 15px;
                                font-weight: 900;
                                font-size: 1.1rem;
                                cursor: pointer;
                                box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                            ">
                                <i class="fas fa-paper-plane mr-2"></i>SEND VERIFICATION CODE
                            </button>
                        </div>
                        
                        <div id="newRegStep2" style="display: none;">
                            <div style="margin-bottom: 20px;">
                                <label style="color: #00ff88; font-weight: 700; display: block; margin-bottom: 8px;">
                                    <i class="fas fa-key mr-2"></i>Verification Code
                                </label>
                                <input type="text" id="newRegCode" placeholder="Enter 6-digit code" maxlength="6" style="
                                    width: 100%;
                                    padding: 15px;
                                    background: #000;
                                    border: 2px solid #00ff88;
                                    border-radius: 10px;
                                    color: #fff;
                                    font-size: 1.5rem;
                                    letter-spacing: 8px;
                                    text-align: center;
                                ">
                                <p style="color: #999; font-size: 0.9rem; margin-top: 10px; text-align: center;">
                                    Check your email inbox (and spam folder) for the code
                                </p>
                            </div>
                            
                            <button onclick="verifyNewRegCode()" style="
                                width: 100%;
                                background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
                                color: #000;
                                border: none;
                                padding: 15px;
                                border-radius: 15px;
                                font-weight: 900;
                                font-size: 1.1rem;
                                cursor: pointer;
                                box-shadow: 0 6px 20px rgba(0,255,136,0.4);
                            ">
                                <i class="fas fa-check-circle mr-2"></i>VERIFY & CREATE ACCOUNT
                            </button>
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(0,255,136,0.2);">
                            <p style="color: #999; font-size: 0.9rem;">
                                Already have an account? 
                                <a href="#" onclick="closeNewRegModal(); showLogin(); return false;" style="color: #00ff88; font-weight: 700;">Login here</a>
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        };
        
        window.closeNewRegModal = function() {
            const modal = document.getElementById('newRegModal');
            if (modal) modal.remove();
        };
        
        window.newRegData = null;
        
        window.sendNewRegCode = async function() {
            const name = document.getElementById('newRegName').value.trim();
            const email = document.getElementById('newRegEmail').value.trim();
            const password = document.getElementById('newRegPassword').value.trim();
            
            if (!name || !email || !password) {
                alert('Please fill in all fields!');
                return;
            }
            
            if (name.length < 3) {
                alert('Name must be at least 3 characters!');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters!');
                return;
            }
            
            // Check if email exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.find(u => u.email.toLowerCase() === email.toLowerCase())) {
                alert('This email is already registered!');
                return;
            }
            
            // Store data
            window.newRegData = { name, email, password };
            
            try {
                // Request verification code
                const response = await fetch('http://localhost:5003/api/send-verification', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, name })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Show step 2
                    document.getElementById('newRegStep1').style.display = 'none';
                    document.getElementById('newRegStep2').style.display = 'block';
                    
                    // Check if development mode or real email
                    if (result.development_mode && result.code_for_testing) {
                        // Development mode - show code in console
                        console.log('%cðŸ”‘ VERIFICATION CODE: ' + result.code_for_testing, 'color: #00ff88; font-size: 20px; font-weight: bold;');
                        console.log('%cEnter this code in the registration form', 'color: #00d4ff; font-size: 14px;');
                        alert('âš ï¸ Email server in test mode. Check browser console (F12) for verification code.');
                    } else {
                        // Real email sent
                        alert('âœ… Verification code sent to ' + window.newRegData.email + '! Check your email inbox (and spam folder).');
                    }
                } else {
                    alert('Error: ' + result.error);
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Could not connect to email server. Make sure it is running on port 5003.');
            }
        };
        
        window.verifyNewRegCode = async function() {
            const code = document.getElementById('newRegCode').value.trim();
            
            if (!code || code.length !== 6) {
                alert('Please enter the 6-digit verification code!');
                return;
            }
            
            if (!window.newRegData) {
                alert('Registration data lost. Please start over.');
                closeNewRegModal();
                return;
            }
            
            try {
                // Verify code
                const response = await fetch('http://localhost:5003/api/verify-code', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: window.newRegData.email,
                        code: code
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Create user account
                    const newUser = {
                        name: window.newRegData.name,
                        email: window.newRegData.email,
                        password: window.newRegData.password,
                        membershipTier: 'free',
                        membershipActive: false,
                        aiPicksUsedToday: 0,
                        createdAt: new Date().toISOString(),
                        verified: true,
                        ip: result.ip
                    };
                    
                    // Save to localStorage
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    users.push(newUser);
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    // Login user
                    currentUser = newUser;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    // Success!
                    alert('âœ… Account created successfully! Welcome ' + newUser.name + '!');
                    closeNewRegModal();
                    
                    // Update UI
                    if (typeof updateUserInterface === 'function') {
                        updateUserInterface(currentUser);
                    }
                    
                    console.log('âœ… User registered:', newUser.email);
                } else {
                    alert('âŒ Invalid verification code! ' + (result.error || ''));
                }
            } catch (error) {
                console.error('Verification error:', error);
                alert('Could not verify code. Please try again.');
            }
        };
    </script>
    <script>
        // EMERGENCY FIX: Completely bypass cached JS for critical functions
        (function() {
            console.log('ðŸš¨ EMERGENCY SYSTEM OVERRIDE ACTIVATED');
            
            // Wait for jQuery
            const waitForJQuery = setInterval(function() {
                if (typeof $ !== 'undefined') {
                    clearInterval(waitForJQuery);
                    console.log('âœ… jQuery loaded');
                    
                    // Emergency loadPicks function (inline, bypasses cache)
                    window.emergencyLoadPicks = function() {
                        console.log('ðŸ†˜ EMERGENCY loadPicks() called');
                        
                        const grid = $('#lucklab-picks-grid');
                        if (!grid || grid.length === 0) {
                            console.error('âŒ Grid not found!');
                            return;
                        }
                        
                        // Try to load from file
                        fetch('lucklab_picks.json?cb=' + Date.now())
                            .then(r => r.json())
                            .then(data => {
                                console.log('âœ… Loaded', data.length, 'picks from file');
                                
                                if (data.length === 0) {
                                    grid.html(`
                                        <div class="col-12 text-center py-5">
                                            <i class="fas fa-info-circle" style="font-size: 4rem; color: #00ff88;"></i>
                                            <h3 style="color: #fff;">No Picks Available</h3>
                                            <p style="color: #999;">Generate picks in Control Center to see them here.</p>
                                        </div>
                                    `);
                                } else {
                                    // Show picks
                                    let html = '<div class="row">';
                                    data.forEach(pick => {
                                        html += `
                                            <div class="col-md-6 mb-4">
                                                <div style="background: #1a1a1a; border: 2px solid #00ff88; border-radius: 15px; padding: 20px;">
                                                    <h5 style="color: #00ff88;">${pick.sport || 'GAME'}</h5>
                                                    <h4 style="color: #fff;">${pick.game || pick.teams || 'Unknown Game'}</h4>
                                                    <p style="color: #999;">Bet Type: ${pick.betType || pick.bet_type || 'N/A'}</p>
                                                    <div style="background: rgba(0,255,136,0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                                        <p style="color: #00ff88; font-weight: 700; font-size: 1.1rem; margin: 0;">
                                                            ${pick.pick || 'Pick Locked'}
                                                        </p>
                                                    </div>
                                                    <p style="color: #FFD700;">Confidence: ${pick.confidence || 'N/A'}</p>
                                                </div>
                                            </div>
                                        `;
                                    });
                                    html += '</div>';
                                    grid.html(html);
                                }
                            })
                            .catch(err => {
                                console.error('âŒ Error loading picks:', err);
                                grid.html(`
                                    <div class="col-12 text-center py-5">
                                        <i class="fas fa-exclamation-triangle" style="font-size: 4rem; color: #ff4444;"></i>
                                        <h3 style="color: #ff4444;">Error Loading Picks</h3>
                                        <p style="color: #999;">${err.message}</p>
                                    </div>
                                `);
                            });
                    };
                    
                    // Call immediately
                    setTimeout(() => {
                        console.log('ðŸ”„ Running emergency loadPicks...');
                        emergencyLoadPicks();
                    }, 100);
                    
                    // Also try calling the regular function if it exists
                    setTimeout(() => {
                        if (typeof loadPicks === 'function') {
                            console.log('âœ… Regular loadPicks found, calling it too');
                            try {
                                loadPicks();
                            } catch (e) {
                                console.error('âŒ Regular loadPicks failed:', e);
                            }
                        }
                    }, 500);
                }
            }, 50);
        })();
    </script>
</body>

</html>
